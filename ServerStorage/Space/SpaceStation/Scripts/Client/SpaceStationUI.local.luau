--[[
================================================================================
KOSMICMAZER ‚Äî Space Station UI Client
================================================================================

Purpose: –°—Ç–≤–æ—Ä—é—î —Ç–∞ –∫–µ—Ä—É—î —Å—Ç–∞—Ç—É—Å –±–∞—Ä–æ–º –∫–æ—Å–º—ñ—á–Ω–æ—ó —Å—Ç–∞–Ω—Ü—ñ—ó –∑–≥—ñ–¥–Ω–æ GuiConvention
Version: 1.4

Features:
- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∏–π —Å—Ç–∞—Ç—É—Å –±–∞—Ä –≤–≥–æ—Ä—ñ –ø—Ä–∞–≤–æ—Ä—É—á –µ–∫—Ä–∞–Ω—É (Windows 95 —Å—Ç–∏–ª—å)
- –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –Ω–∞–∑–≤–∏ —Å—Ç–∞–Ω—Ü—ñ—ó —Ç–∞ –ø–æ—Ç–æ—á–Ω–æ—ó –ø–ª–∞–Ω–µ—Ç–∏
- –ö–Ω–æ–ø–∫–∞ –≤–∏—Ö–æ–¥—É –∑ –≥—Ä–∏ –∑ –¥—ñ–∞–ª–æ–≥–æ–º –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è
- 3D –µ—Ñ–µ–∫—Ç–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –∑–≥—ñ–¥–Ω–æ GuiConvention
- –ê–Ω—ñ–º–∞—Ü—ñ—ó –∑ TweenService (Back.Out, Quad.In)
- LocationModel hierarchical structure compatibility

API:
- Initialize(): –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î UI –µ–ª–µ–º–µ–Ω—Ç–∏
- UpdatePlanetName(planetId): –û–Ω–æ–≤–ª—é—î –Ω–∞–∑–≤—É –ø–ª–∞–Ω–µ—Ç–∏
- GetCurrentPlanetId(): –ü–æ–≤–µ—Ä—Ç–∞—î ID –ø–æ—Ç–æ—á–Ω–æ—ó –ø–ª–∞–Ω–µ—Ç–∏
- GetCurrentPlanetName(): –ü–æ–≤–µ—Ä—Ç–∞—î –Ω–∞–∑–≤—É –ø–æ—Ç–æ—á–Ω–æ—ó –ø–ª–∞–Ω–µ—Ç–∏
- ShowExitConfirmation(): –ü–æ–∫–∞–∑—É—î –¥—ñ–∞–ª–æ–≥ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≤–∏—Ö–æ–¥—É

Calls to:
- Players: –û—Ç—Ä–∏–º–∞–Ω–Ω—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –≥—Ä–∞–≤—Ü—è
- StarterGui: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è GUI –µ–ª–µ–º–µ–Ω—Ç—ñ–≤
- TweenService: –ê–Ω—ñ–º–∞—Ü—ñ—ó –ø–µ—Ä–µ—Ö–æ–¥—ñ–≤

Called from:
- EnvironmentLoader: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥—ñ –Ω–∞ —Å—Ç–∞–Ω—Ü—ñ—é

Events:
- ExitButtonClicked: –ü–æ–¥—ñ—è –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –∫–Ω–æ–ø–∫–∏ –≤–∏—Ö–æ–¥—É

Dependencies:
- GuiConvention: –ö–æ–ª—å–æ—Ä–∏ WIN95_COLORS —Ç–∞ —Å—Ç–∏–ª—ñ
- TweenService: –ê–Ω—ñ–º–∞—Ü—ñ—ó

ChangeLog:
- Version 1.4: Renamed from StationUI to SpaceStationUI for clarity
- Version 1.3: Updated for LocationModel hierarchical structure compatibility (ETAP 3)
- Version 1.3: Tested and verified compatibility with new space station structure
- Version 1.3: No direct changes required as UI doesn't reference SpaceStation models directly
- Version 1.2: Removed GameConfig dependency, using local constants
- Version 1.1: Added dynamic planet names and 3D button effects
- Version 1.0: Initial implementation with Windows 95 styling

================================================================================
]]

--============================================================================--
-- SERVICES
--============================================================================--
local Players = game:GetService("Players")
local StarterGui = game:GetService("StarterGui")
local TweenService = game:GetService("TweenService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

--============================================================================--
-- MODULES
--============================================================================--
local GuiConvention = require(ReplicatedStorage:WaitForChild("Std"):WaitForChild("GuiConvention"))

--============================================================================--
-- –ö–û–ù–°–¢–ê–ù–¢–ò / CONSTANTS
--============================================================================--

-- @const table –ö–æ–ª—å–æ—Ä–∏ Windows 95
local WIN95_COLORS = GuiConvention.WIN95_COLORS

-- @const string ID –ø–æ—Ç–æ—á–Ω–æ—ó –ø–ª–∞–Ω–µ—Ç–∏ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
local DEFAULT_PLANET_ID = "Planet_1"

-- @const string –ù–∞–∑–≤–∞ –∫–æ—Å–º—ñ—á–Ω–æ—ó —Å—Ç–∞–Ω—Ü—ñ—ó
local STATION_DISPLAY_NAME = "–ö–æ—Å–º—ñ—á–Ω–∞ –°—Ç–∞–Ω—Ü—ñ—è"

-- @const table –ù–∞–∑–≤–∏ –ø–ª–∞–Ω–µ—Ç (–æ—Ç—Ä–∏–º—É—é—Ç—å—Å—è –≤—ñ–¥ —Å–µ—Ä–≤–µ—Ä–∞ –∞–±–æ —Ö–∞—Ä–¥–∫–æ–¥—è—Ç—å—Å—è)
local PLANET_NAMES = {
	["Planet_1"] = "–ü–ª–∞–Ω–µ—Ç–∞ 1",
	["Planet_2"] = "–ü–ª–∞–Ω–µ—Ç–∞ 2",
}

-- @var string ID –ø–æ—Ç–æ—á–Ω–æ—ó –ø–ª–∞–Ω–µ—Ç–∏
local currentPlanetId = DEFAULT_PLANET_ID

-- @var string –ù–∞–∑–≤–∞ –ø–æ—Ç–æ—á–Ω–æ—ó –ø–ª–∞–Ω–µ—Ç–∏
local currentPlanetName = PLANET_NAMES[DEFAULT_PLANET_ID] or "–ù–µ–≤—ñ–¥–æ–º–∞ –ø–ª–∞–Ω–µ—Ç–∞"

--============================================================================--
-- –ì–õ–û–ë–ê–õ–¨–ù–Ü –ó–ú–Ü–ù–ù–Ü / GLOBAL VARIABLES
--============================================================================--

-- @var Player –õ–æ–∫–∞–ª—å–Ω–∏–π –≥—Ä–∞–≤–µ—Ü—å
local player = Players.LocalPlayer

-- @var ScreenGui? –ì–æ–ª–æ–≤–Ω–∏–π GUI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
local statusBarGui = nil

-- @var TextLabel? –ù–∞–∑–≤–∞ —Å—Ç–∞–Ω—Ü—ñ—ó
local stationNameLabel = nil

-- @var TextLabel? –ù–∞–∑–≤–∞ –ø–ª–∞–Ω–µ—Ç–∏
local planetNameLabel = nil

-- @var TextButton? –ö–Ω–æ–ø–∫–∞ –≤–∏—Ö–æ–¥—É
local exitButton = nil

--============================================================================--
-- –õ–û–ö–ê–õ–¨–ù–Ü –§–£–ù–ö–¶–Ü–á / LOCAL FUNCTIONS
--============================================================================--

-- –°—Ç–≤–æ—Ä—é—î 3D –µ—Ñ–µ–∫—Ç –¥–ª—è –∫–Ω–æ–ø–∫–∏ (Windows 95 —Å—Ç–∏–ª—å)
-- @param button TextButton - –ö–Ω–æ–ø–∫–∞ –¥–ª—è —Å—Ç–∏–ª—ñ–∑–∞—Ü—ñ—ó
-- @param raised boolean - –ß–∏ –∫–Ω–æ–ø–∫–∞ "–ø—ñ–¥–Ω—è—Ç–∞"
local function create3DEffect(button: TextButton, raised: boolean)
	if raised then
		button.BorderSizePixel = 2
		button.BorderColor3 = WIN95_COLORS.ButtonHighlight
		-- –°—Ç–≤–æ—Ä—é—î–º–æ —Å–≤—ñ—Ç–ª—É —Ä–∞–º–∫—É –∑–≤–µ—Ä—Ö—É/–∑–ª—ñ–≤–∞
		local lightBorder = Instance.new("Frame")
		lightBorder.Name = "LightBorder"
		lightBorder.Size = UDim2.new(1, 2, 1, 2)
		lightBorder.Position = UDim2.new(0, -1, 0, -1)
		lightBorder.BackgroundColor3 = WIN95_COLORS.ButtonHighlight
		lightBorder.BorderSizePixel = 0
		lightBorder.ZIndex = button.ZIndex + 1
		lightBorder.Parent = button

		-- –°—Ç–≤–æ—Ä—é—î–º–æ —Ç–µ–º–Ω—É —Ä–∞–º–∫—É –∑–Ω–∏–∑—É/—Å–ø—Ä–∞–≤–∞
		local darkBorder = Instance.new("Frame")
		darkBorder.Name = "DarkBorder"
		darkBorder.Size = UDim2.new(1, 2, 1, 2)
		darkBorder.Position = UDim2.new(0, 1, 0, 1)
		darkBorder.BackgroundColor3 = WIN95_COLORS.ButtonShadow
		darkBorder.BorderSizePixel = 0
		darkBorder.ZIndex = button.ZIndex + 1
		darkBorder.Parent = button
	else
		button.BorderSizePixel = 2
		button.BorderColor3 = WIN95_COLORS.ButtonDarkShadow
		-- –í–∏–¥–∞–ª—è—î–º–æ 3D –µ—Ñ–µ–∫—Ç–∏
		local lightBorder = button:FindFirstChild("LightBorder")
		if lightBorder then lightBorder:Destroy() end
		local darkBorder = button:FindFirstChild("DarkBorder")
		if darkBorder then darkBorder:Destroy() end
	end
end

-- –°—Ç–≤–æ—Ä—é—î –¥—ñ–∞–ª–æ–≥ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≤–∏—Ö–æ–¥—É (Windows 95 —Å—Ç–∏–ª—å)
local function createExitDialog()
	local dialog = Instance.new("Frame")
	dialog.Name = "ExitDialog"
	dialog.Size = UDim2.new(0, 320, 0, 160)
	dialog.Position = UDim2.new(0.5, -160, 0.5, -80)
	dialog.BackgroundColor3 = WIN95_COLORS.WindowBackground
	dialog.BorderSizePixel = 0
	dialog.Parent = statusBarGui

	-- Title bar
	local titleBar = Instance.new("Frame")
	titleBar.Name = "TitleBar"
	titleBar.Size = UDim2.new(1, 0, 0, 20)
	titleBar.Position = UDim2.new(0, 0, 0, 0)
	titleBar.BackgroundColor3 = WIN95_COLORS.TitleBarActive
	titleBar.BorderSizePixel = 0
	titleBar.Parent = dialog

	-- Title text
	local titleLabel = Instance.new("TextLabel")
	titleLabel.Name = "TitleLabel"
	titleLabel.Size = UDim2.new(1, -60, 1, 0)
	titleLabel.Position = UDim2.new(0, 5, 0, 0)
	titleLabel.BackgroundTransparency = 1
	titleLabel.Text = "–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≤–∏—Ö–æ–¥—É"
	titleLabel.TextColor3 = WIN95_COLORS.TitleText
	titleLabel.Font = Enum.Font.SourceSansBold
	titleLabel.TextSize = 12
	titleLabel.Parent = titleBar

	-- Close button
	local closeBtn = Instance.new("TextButton")
	closeBtn.Name = "CloseBtn"
	closeBtn.Size = UDim2.new(0, 16, 0, 14)
	closeBtn.Position = UDim2.new(1, -18, 0, 3)
	closeBtn.BackgroundColor3 = WIN95_COLORS.ButtonFace
	closeBtn.BorderSizePixel = 1
	closeBtn.Text = "X"
	closeBtn.Font = Enum.Font.SourceSans
	closeBtn.TextSize = 10
	closeBtn.Parent = titleBar

	-- Content area
	local content = Instance.new("Frame")
	content.Name = "Content"
	content.Size = UDim2.new(1, -4, 1, -44)
	content.Position = UDim2.new(0, 2, 0, 22)
	content.BackgroundTransparency = 1
	content.Parent = dialog

	-- Message text
	local messageLabel = Instance.new("TextLabel")
	messageLabel.Name = "MessageLabel"
	messageLabel.Size = UDim2.new(1, -20, 0, 40)
	messageLabel.Position = UDim2.new(0, 10, 0, 10)
	messageLabel.BackgroundTransparency = 1
	messageLabel.Text = "–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ –≤–∏–π—Ç–∏ –∑ –≥—Ä–∏?\n–í—Å—ñ –Ω–µ–∑–±–µ—Ä–µ–∂–µ–Ω—ñ –¥–∞–Ω—ñ –±—É–¥—É—Ç—å –≤—Ç—Ä–∞—á–µ–Ω—ñ."
	messageLabel.TextColor3 = WIN95_COLORS.WindowText
	messageLabel.Font = Enum.Font.SourceSans
	messageLabel.TextSize = 12
	messageLabel.TextWrapped = true
	messageLabel.Parent = content

	-- Button container
	local buttonContainer = Instance.new("Frame")
	buttonContainer.Name = "ButtonContainer"
	buttonContainer.Size = UDim2.new(1, -20, 0, 30)
	buttonContainer.Position = UDim2.new(0, 10, 1, -40)
	buttonContainer.BackgroundTransparency = 1
	buttonContainer.Parent = content

	-- Yes button
	local yesBtn = Instance.new("TextButton")
	yesBtn.Name = "YesBtn"
	yesBtn.Size = UDim2.new(0, 80, 1, 0)
	yesBtn.Position = UDim2.new(1, -170, 0, 0)
	yesBtn.BackgroundColor3 = WIN95_COLORS.ButtonFace
	yesBtn.BorderSizePixel = 1
	yesBtn.Text = "–¢–∞–∫"
	yesBtn.Font = Enum.Font.SourceSans
	yesBtn.TextSize = 12
	yesBtn.Parent = buttonContainer
	create3DEffect(yesBtn, true)

	-- No button
	local noBtn = Instance.new("TextButton")
	noBtn.Name = "NoBtn"
	noBtn.Size = UDim2.new(0, 80, 1, 0)
	noBtn.Position = UDim2.new(1, -80, 0, 0)
	noBtn.BackgroundColor3 = WIN95_COLORS.ButtonFace
	noBtn.BorderSizePixel = 1
	noBtn.Text = "–ù—ñ"
	noBtn.Font = Enum.Font.SourceSans
	noBtn.TextSize = 12
	noBtn.Parent = buttonContainer
	create3DEffect(noBtn, true)

	-- –ê–Ω—ñ–º–∞—Ü—ñ—è –ø–æ—è–≤–∏
	dialog.Size = UDim2.new(0, 0, 0, 0)
	local tweenIn = TweenService:Create(dialog, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
		Size = UDim2.new(0, 320, 0, 160)
	})
	tweenIn:Play()

	-- –û–±—Ä–æ–±–Ω–∏–∫–∏ –∫–Ω–æ–ø–æ–∫
	closeBtn.MouseButton1Click:Connect(function()
		local tweenOut = TweenService:Create(dialog, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {
			Size = UDim2.new(0, 0, 0, 0)
		})
		tweenOut:Play()
		tweenOut.Completed:Wait()
		dialog:Destroy()
	end)

	yesBtn.MouseButton1Click:Connect(function()
		-- TODO: –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –≤–∏—Ö—ñ–¥ –∑ –≥—Ä–∏ –∑—ñ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è–º
		print("[SpaceStationUI] üö™ Player confirmed exit - implementing save and quit...")
		Players.LocalPlayer:Kick("–î—è–∫—É—î–º–æ –∑–∞ –≥—Ä—É!")
	end)

	noBtn.MouseButton1Click:Connect(function()
		local tweenOut = TweenService:Create(dialog, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {
			Size = UDim2.new(0, 0, 0, 0)
		})
		tweenOut:Play()
		tweenOut.Completed:Wait()
		dialog:Destroy()
	end)

	-- –ï—Ñ–µ–∫—Ç–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –¥–ª—è –∫–Ω–æ–ø–æ–∫
	local function createButtonEffect(button)
		button.MouseEnter:Connect(function()
			create3DEffect(button, false)
		end)
		button.MouseLeave:Connect(function()
			create3DEffect(button, true)
		end)
		button.MouseButton1Down:Connect(function()
			create3DEffect(button, false)
		end)
		button.MouseButton1Up:Connect(function()
			create3DEffect(button, true)
		end)
	end

	createButtonEffect(yesBtn)
	createButtonEffect(noBtn)
	createButtonEffect(closeBtn)
end

-- –°—Ç–≤–æ—Ä—é—î –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∏–π —Å—Ç–∞—Ç—É—Å –±–∞—Ä
local function createStatusBar()
	if statusBarGui then
		statusBarGui:Destroy()
	end

	-- –°—Ç–≤–æ—Ä—é—î–º–æ ScreenGui
	statusBarGui = Instance.new("ScreenGui")
	statusBarGui.Name = "StationStatusBar"
	statusBarGui.ResetOnSpawn = false
	statusBarGui.IgnoreGuiInset = true
	statusBarGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
	statusBarGui.Parent = player:WaitForChild("PlayerGui")

	-- –ì–æ–ª–æ–≤–Ω–∏–π —Å—Ç–∞—Ç—É—Å –±–∞—Ä
	local statusBar = Instance.new("Frame")
	statusBar.Name = "StatusBar"
	statusBar.Size = UDim2.new(0, 500, 0, 40)
	statusBar.Position = UDim2.new(1, -520, 0, 20)
	statusBar.BackgroundColor3 = WIN95_COLORS.WindowBackground
	statusBar.BorderSizePixel = 2
	statusBar.BorderColor3 = WIN95_COLORS.ButtonShadow
	statusBar.Parent = statusBarGui

	-- –°—Ç–≤–æ—Ä—é—î–º–æ 3D –µ—Ñ–µ–∫—Ç –¥–ª—è —Å—Ç–∞—Ç—É—Å –±–∞—Ä—É
	local lightBorder = Instance.new("Frame")
	lightBorder.Name = "LightBorder"
	lightBorder.Size = UDim2.new(1, 2, 1, 2)
	lightBorder.Position = UDim2.new(0, -1, 0, -1)
	lightBorder.BackgroundColor3 = WIN95_COLORS.ButtonHighlight
	lightBorder.BorderSizePixel = 0
	lightBorder.ZIndex = statusBar.ZIndex + 1
	lightBorder.Parent = statusBar

	local darkBorder = Instance.new("Frame")
	darkBorder.Name = "DarkBorder"
	darkBorder.Size = UDim2.new(1, 2, 1, 2)
	darkBorder.Position = UDim2.new(0, 1, 0, 1)
	darkBorder.BackgroundColor3 = WIN95_COLORS.ButtonShadow
	darkBorder.BorderSizePixel = 0
	darkBorder.ZIndex = statusBar.ZIndex + 1
	darkBorder.Parent = statusBar

	-- –°–µ–∫—Ü—ñ—è –Ω–∞–∑–≤–∏ —Å—Ç–∞–Ω—Ü—ñ—ó
	local stationSection = Instance.new("Frame")
	stationSection.Name = "StationSection"
	stationSection.Size = UDim2.new(0, 180, 1, 0)
	stationSection.Position = UDim2.new(0, 5, 0, 0)
	stationSection.BackgroundTransparency = 1
	stationSection.Parent = statusBar

	-- –Ü–∫–æ–Ω–∫–∞ —Å—Ç–∞–Ω—Ü—ñ—ó
	local stationIcon = Instance.new("TextLabel")
	stationIcon.Name = "StationIcon"
	stationIcon.Size = UDim2.new(0, 30, 1, 0)
	stationIcon.Position = UDim2.new(0, 0, 0, 0)
	stationIcon.BackgroundTransparency = 1
	stationIcon.Text = "üöÄ"
	stationIcon.TextColor3 = WIN95_COLORS.WindowText
	stationIcon.TextScaled = false
	stationIcon.Font = Enum.Font.SourceSans
	stationIcon.TextSize = 20
	stationIcon.TextXAlignment = Enum.TextXAlignment.Center
	stationIcon.Parent = stationSection

	-- –ù–∞–∑–≤–∞ —Å—Ç–∞–Ω—Ü—ñ—ó
	stationNameLabel = Instance.new("TextLabel")
	stationNameLabel.Name = "StationNameLabel"
	stationNameLabel.Size = UDim2.new(1, -35, 1, 0)
	stationNameLabel.Position = UDim2.new(0, 35, 0, 0)
	stationNameLabel.BackgroundTransparency = 1
	stationNameLabel.Text = STATION_DISPLAY_NAME
	stationNameLabel.TextColor3 = WIN95_COLORS.WindowText
	stationNameLabel.TextScaled = false
	stationNameLabel.Font = Enum.Font.SourceSansBold
	stationNameLabel.TextSize = 14
	stationNameLabel.TextXAlignment = Enum.TextXAlignment.Left
	stationNameLabel.Parent = stationSection

	-- –°–µ–∫—Ü—ñ—è –Ω–∞–∑–≤–∏ –ø–ª–∞–Ω–µ—Ç–∏
	local planetSection = Instance.new("Frame")
	planetSection.Name = "PlanetSection"
	planetSection.Size = UDim2.new(0, 180, 1, 0)
	planetSection.Position = UDim2.new(0, 190, 0, 0)
	planetSection.BackgroundTransparency = 1
	planetSection.Parent = statusBar

	-- –Ü–∫–æ–Ω–∫–∞ –ø–ª–∞–Ω–µ—Ç–∏
	local planetIcon = Instance.new("TextLabel")
	planetIcon.Name = "PlanetIcon"
	planetIcon.Size = UDim2.new(0, 30, 1, 0)
	planetIcon.Position = UDim2.new(0, 0, 0, 0)
	planetIcon.BackgroundTransparency = 1
	planetIcon.Text = "ü™ê"
	planetIcon.TextColor3 = WIN95_COLORS.WindowText
	planetIcon.TextScaled = false
	planetIcon.Font = Enum.Font.SourceSans
	planetIcon.TextSize = 20
	planetIcon.TextXAlignment = Enum.TextXAlignment.Center
	planetIcon.Parent = planetSection

	-- –ù–∞–∑–≤–∞ –ø–ª–∞–Ω–µ—Ç–∏
	planetNameLabel = Instance.new("TextLabel")
	planetNameLabel.Name = "PlanetNameLabel"
	planetNameLabel.Size = UDim2.new(1, -35, 1, 0)
	planetNameLabel.Position = UDim2.new(0, 35, 0, 0)
	planetNameLabel.BackgroundTransparency = 1
	planetNameLabel.Text = currentPlanetName
	planetNameLabel.TextColor3 = WIN95_COLORS.WindowText
	planetNameLabel.TextScaled = false
	planetNameLabel.Font = Enum.Font.SourceSansBold
	planetNameLabel.TextSize = 14
	planetNameLabel.TextXAlignment = Enum.TextXAlignment.Left
	planetNameLabel.Parent = planetSection

	-- –°–µ–∫—Ü—ñ—è –∫–Ω–æ–ø–∫–∏ –≤–∏—Ö–æ–¥—É
	local exitSection = Instance.new("Frame")
	exitSection.Name = "ExitSection"
	exitSection.Size = UDim2.new(0, 120, 1, 0)
	exitSection.Position = UDim2.new(1, -125, 0, 0)
	exitSection.BackgroundTransparency = 1
	exitSection.Parent = statusBar

	-- –ö–Ω–æ–ø–∫–∞ –≤–∏—Ö–æ–¥—É
	exitButton = Instance.new("TextButton")
	exitButton.Name = "ExitButton"
	exitButton.Size = UDim2.new(1, -10, 1, -6)
	exitButton.Position = UDim2.new(0, 5, 0, 3)
	exitButton.BackgroundColor3 = WIN95_COLORS.ButtonFace
	exitButton.BorderSizePixel = 1
	exitButton.BorderColor3 = WIN95_COLORS.ButtonShadow
	exitButton.Text = "–í–∏—Ö—ñ–¥ –∑ –ì—Ä–∏"
	exitButton.TextColor3 = WIN95_COLORS.WindowText
	exitButton.TextScaled = false
	exitButton.Font = Enum.Font.SourceSansBold
	exitButton.TextSize = 12
	exitButton.Parent = exitSection

	-- –°—Ç–≤–æ—Ä—é—î–º–æ 3D –µ—Ñ–µ–∫—Ç –¥–ª—è –∫–Ω–æ–ø–∫–∏ –≤–∏—Ö–æ–¥—É
	create3DEffect(exitButton, true)

	-- –û–±—Ä–æ–±–Ω–∏–∫ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –∫–Ω–æ–ø–∫–∏ –≤–∏—Ö–æ–¥—É
	exitButton.MouseButton1Click:Connect(function()
		print("[SpaceStationUI] üö™ Exit button clicked!")
		createExitDialog()
	end)

	-- –ï—Ñ–µ–∫—Ç–∏ –Ω–∞–≤–µ–¥–µ–Ω–Ω—è –¥–ª—è –∫–Ω–æ–ø–∫–∏ –≤–∏—Ö–æ–¥—É
	exitButton.MouseEnter:Connect(function()
		create3DEffect(exitButton, false)
	end)
	exitButton.MouseLeave:Connect(function()
		create3DEffect(exitButton, true)
	end)
	exitButton.MouseButton1Down:Connect(function()
		create3DEffect(exitButton, false)
	end)
	exitButton.MouseButton1Up:Connect(function()
		create3DEffect(exitButton, true)
	end)

	print("[SpaceStationUI] ‚úÖ Status bar created successfully")
end

--============================================================================--
-- –ü–£–ë–õ–Ü–ß–ù–Ü –§–£–ù–ö–¶–Ü–á / PUBLIC API
--============================================================================--

local SpaceStationUI = {}

--[[
@function Initialize
–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î UI –µ–ª–µ–º–µ–Ω—Ç–∏ —Å—Ç–∞—Ç—É—Å –±–∞—Ä—É

@return nil
]]
function SpaceStationUI.Initialize(): nil
	print("[SpaceStationUI] üöÄ Initializing Station UI...")
	createStatusBar()
	return
end

--[[
@function UpdatePlanetName
–û–Ω–æ–≤–ª—é—î –Ω–∞–∑–≤—É –ø–æ—Ç–æ—á–Ω–æ—ó –ø–ª–∞–Ω–µ—Ç–∏ –≤ —Å—Ç–∞—Ç—É—Å –±–∞—Ä—ñ

@param planetId string - ID –ø–ª–∞–Ω–µ—Ç–∏ –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è
@return nil
]]
function SpaceStationUI.UpdatePlanetName(planetId: string): nil
	if planetNameLabel then
		currentPlanetId = planetId
		currentPlanetName = PLANET_NAMES[planetId] or "–ù–µ–≤—ñ–¥–æ–º–∞ –ø–ª–∞–Ω–µ—Ç–∞"
		planetNameLabel.Text = currentPlanetName
		print("[SpaceStationUI] ü™ê Planet updated to:", planetId, "-", currentPlanetName)
	else
		warn("[SpaceStationUI] ‚ö†Ô∏è Planet label not initialized")
	end
end


--[[
@function GetCurrentPlanetId
–ü–æ–≤–µ—Ä—Ç–∞—î ID –ø–æ—Ç–æ—á–Ω–æ—ó –ø–ª–∞–Ω–µ—Ç–∏

@return string - ID –ø–æ—Ç–æ—á–Ω–æ—ó –ø–ª–∞–Ω–µ—Ç–∏
]]
function SpaceStationUI.GetCurrentPlanetId(): string
	return currentPlanetId
end

--[[
@function GetCurrentPlanetName
–ü–æ–≤–µ—Ä—Ç–∞—î –Ω–∞–∑–≤—É –ø–æ—Ç–æ—á–Ω–æ—ó –ø–ª–∞–Ω–µ—Ç–∏

@return string - –ù–∞–∑–≤–∞ –ø–æ—Ç–æ—á–Ω–æ—ó –ø–ª–∞–Ω–µ—Ç–∏
]]
function SpaceStationUI.GetCurrentPlanetName(): string
	return currentPlanetName
end

--[[
@function ShowExitConfirmation
–ü–æ–∫–∞–∑—É—î –¥—ñ–∞–ª–æ–≥ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≤–∏—Ö–æ–¥—É –∑ –≥—Ä–∏

@return nil
]]
function SpaceStationUI.ShowExitConfirmation(): nil
	createExitDialog()
end

--============================================================================--
-- –Ü–ù–Ü–¶–Ü–ê–õ–Ü–ó–ê–¶–Ü–Ø / INITIALIZATION
--============================================================================--

-- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å–∫—Ä–∏–ø—Ç–∞
SpaceStationUI.Initialize()

return SpaceStationUI