--[[
================================================================================
KOSMICMAZER ‚Äî TECHNICAL DESIGN DOCUMENT (TDD)
================================================================================

Purpose: –¢–µ—Ö–Ω—ñ—á–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞, —Å–∏—Å—Ç–µ–º–∏, –ø–æ—Ç–æ–∫–∏ –¥–∞–Ω–∏—Ö —Ç–∞ –æ–±–º–µ–∂–µ–Ω–Ω—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó
Version: 4.0
Status: Active Implementation
Owner: Development Team
Last Updated: 2026-01-08

================================================================================
1. PURPOSE AND SCOPE
================================================================================

1.1 Purpose
–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—É—î —Ç–µ—Ö–Ω—ñ—á–Ω—É –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É, —Å–∏—Å—Ç–µ–º–∏, –ø–æ—Ç–æ–∫–∏ –¥–∞–Ω–∏—Ö
—Ç–∞ –æ–±–º–µ–∂–µ–Ω–Ω—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –≥—Ä–∏ KosmicMazer.

1.2 Scope
TDD –æ—Ö–æ–ø–ª—é—î:
- –°–µ—Ä–≤–µ—Ä–Ω—É –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É
- –û—Å–Ω–æ–≤–Ω—ñ —Å–∏—Å—Ç–µ–º–∏ —Ç–∞ —ó—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å
- –ú–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö —Ç–∞ –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Å—Ç–∞–Ω–æ–º
- –ö–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—é –º—ñ–∂ —Å–∏—Å—Ç–µ–º–∞–º–∏
- –¢–µ—Ö–Ω—ñ—á–Ω—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è —Ç–∞ –ø—Ä–∏–ø—É—â–µ–Ω–Ω—è

================================================================================
2. HIGH-LEVEL ARCHITECTURE
================================================================================

2.1 Architectural Overview
–ì—Ä–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î server-authoritative, –º–æ–¥—É–ª—å–Ω—É –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É.

–ö–ª—é—á–æ–≤—ñ –ø—Ä–∏–Ω—Ü–∏–ø–∏:
- –Ñ–¥–∏–Ω–µ –¥–∂–µ—Ä–µ–ª–æ —ñ—Å—Ç–∏–Ω–∏ –¥–ª—è —Å—Ç–∞–Ω—É –≥—Ä–∏
- –î–µ—Ç–µ—Ä–º—ñ–Ω–æ–≤–∞–Ω–∏–π –∂–∏—Ç—Ç—î–≤–∏–π —Ü–∏–∫–ª –ª–æ–∫–∞—Ü—ñ–π
- –ß—ñ—Ç–∫–µ –≤–æ–ª–æ–¥—ñ–Ω–Ω—è –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—è–º–∏ Workspace
- –†–æ–∑–¥—ñ–ª–µ–Ω–Ω—è —ñ–≥—Ä–æ–≤–æ—ó –ª–æ–≥—ñ–∫–∏, UI —Ç–∞ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü—ñ—ó
- Graceful degradation –ø—Ä–∏ –∑–±–æ—è—Ö

2.2 Main Layers
- Core Layer (–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—è —Å—Ç–∞–Ω—É –≥—Ä–∏)
- Systems Layer (runtime –º–µ—Ö–∞–Ω—ñ–∫–∏)
- UI Layer (–∫–ª—ñ—î–Ω—Ç—Å—å–∫–∞ –≤–∑–∞—î–º–æ–¥—ñ—è)
- Data Layer (–ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü—ñ—è —Ç–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è)

2.3 Environment Types
–î–≤–∞ —Ç–∏–ø–∏ —ñ–≥—Ä–æ–≤–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â:
1) Space Environment - –≥—Ä–∞–≤–µ—Ü—å –Ω–∞ –æ—Ä–±—ñ—Ç—ñ –ø–ª–∞–Ω–µ—Ç–∏ (SpaceStation)
2) Planet Environment - –≥—Ä–∞–≤–µ—Ü—å –Ω–∞ –ø–æ–≤–µ—Ä—Ö–Ω—ñ –ø–ª–∞–Ω–µ—Ç–∏ (Locations)

================================================================================
3. FOLDER STRUCTURE
================================================================================

3.1 –ü–æ—Ç–æ—á–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

ServerScriptService/
‚îú‚îÄ‚îÄ GameInit.server.luau      -- –ì–æ–ª–æ–≤–Ω–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è (v3.7)
‚îú‚îÄ‚îÄ GameConfig.luau           -- –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è (v3.5, DATA_SCHEMA_VERSION=2)
‚îú‚îÄ‚îÄ ConfigValidator.luau      -- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó (v1.0) ‚úÖ NEW
‚îú‚îÄ‚îÄ DataStoreManager.luau     -- –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü—ñ—è –¥–∞–Ω–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤ (v2.0 + migrations)
‚îú‚îÄ‚îÄ PlayerDataManager.luau    -- –ö–µ—Ä—É–≤–∞–Ω–Ω—è —Å—Ç–∞–Ω–æ–º –≥—Ä–∞–≤—Ü—ñ–≤ (v1.0)
‚îú‚îÄ‚îÄ BaseLocationManager.luau  -- –ë–∞–∑–æ–≤–∏–π –∫–ª–∞—Å –¥–ª—è location managers (v1.0) ‚úÖ NEW
‚îú‚îÄ‚îÄ SpaceStationManager.luau  -- Manager –∫–æ—Å–º—ñ—á–Ω–æ—ó —Å—Ç–∞–Ω—Ü—ñ—ó (v1.0) ‚úÖ NEW
‚îú‚îÄ‚îÄ LocationController.template.luau -- –®–∞–±–ª–æ–Ω –¥–ª—è planet location controllers (v1.0) ‚úÖ NEW
‚îú‚îÄ‚îÄ TeleportationManager.luau -- –°–∏—Å—Ç–µ–º–∞ —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü—ñ—ó (v4.5)
‚îú‚îÄ‚îÄ LocationManager.luau      -- –ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –ª–æ–∫–∞—Ü—ñ–π (v3.0 + FSM) ‚úÖ UPDATED
‚îú‚îÄ‚îÄ EnvironmentLoader.luau    -- –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å–µ—Ä–µ–¥–æ–≤–∏—â (v1.8 + LoadOrder)
‚îú‚îÄ‚îÄ LoadOrderProcessor.luau   -- LoadOrder –æ–±—Ä–æ–±–∫–∞ (v1.0)
‚îú‚îÄ‚îÄ ObjectTypeValidator.luau  -- –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Å—Ç—Ä—É–∫—Ç—É—Ä (v1.2)
‚îî‚îÄ‚îÄ Helpers/
    ‚îú‚îÄ‚îÄ ConfigValidatorTest.server.luau -- –¢–µ—Å—Ç ConfigValidator (v1.0) ‚úÖ NEW
    ‚îú‚îÄ‚îÄ DataStoreCleaner.server.luau    -- –£—Ç–∏–ª—ñ—Ç–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è (v1.1)
    ‚îú‚îÄ‚îÄ LoadingMonitor.server.luau      -- –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (v1.0)
    ‚îî‚îÄ‚îÄ SystemTest.server.luau          -- –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º (v1.1)

StarterPlayer/
‚îî‚îÄ‚îÄ StarterPlayerScripts/
    ‚îú‚îÄ‚îÄ TeleportationClient.luau  -- UI —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü—ñ—ó (LocalScript)
    ‚îú‚îÄ‚îÄ ScannerUI2.client.luau    -- UI —Å–∫–∞–Ω–µ—Ä–∞ (LocalScript)
    ‚îî‚îÄ‚îÄ StationUI.luau            -- UI —Å—Ç–∞–Ω—Ü—ñ—ó (LocalScript)

ReplicatedStorage/
‚îú‚îÄ‚îÄ RemoteEventsRegistry.luau -- –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π —Ä–µ—î—Å—Ç—Ä RemoteEvents (v1.0) ‚úÖ NEW
‚îú‚îÄ‚îÄ Docs/
‚îÇ   ‚îú‚îÄ‚îÄ GameDesignDocument.luau
‚îÇ   ‚îú‚îÄ‚îÄ TechnicalDesignDocument.luau
‚îÇ   ‚îú‚îÄ‚îÄ ArchitectureImproves.luau
‚îÇ   ‚îú‚îÄ‚îÄ RefactoringPlan.luau
‚îÇ   ‚îî‚îÄ‚îÄ Backlog.luau
‚îî‚îÄ‚îÄ Std/
    ‚îú‚îÄ‚îÄ CodeConvention.luau (v3.5)
    ‚îú‚îÄ‚îÄ GuiConvention.luau
    ‚îî‚îÄ‚îÄ LoggingConvention.luau

ServerStorage/
‚îú‚îÄ‚îÄ Space/
‚îÇ   ‚îî‚îÄ‚îÄ SpaceStation/
‚îÇ       ‚îú‚îÄ‚îÄ Workspace/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ SpawnLocation              -- SpawnLocation: –¢–æ—á–∫–∞ —Å–ø–∞–≤–Ω—É –≥—Ä–∞–≤—Ü—è
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ PlanetSurfaceScanner       -- Model: –°–∫–∞–Ω–µ—Ä –ø–ª–∞–Ω–µ—Ç–∏
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ ...                        -- –í–µ—Å—å –∫–æ–Ω—Ç–µ–Ω—Ç –∫–æ–ø—ñ—é—î—Ç—å—Å—è –≤ game.Workspace
‚îÇ       ‚îú‚îÄ‚îÄ Scripts/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ Server/
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PlanetSurfaceScanner.luau         -- ModuleScript: –õ–æ–≥—ñ–∫–∞ —Å–∫–∞–Ω–µ—Ä–∞
‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PlanetScannerController.luau      -- ModuleScript: –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ Client/
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ StationUI.luau         -- LocalScript: UI —Å—Ç–∞–Ω—Ü—ñ—ó
‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ ScannerUI.luau         -- LocalScript: UI —Å–∫–∞–Ω–µ—Ä–∞
‚îÇ       ‚îî‚îÄ‚îÄ Configuration/
‚îÇ           ‚îî‚îÄ‚îÄ LoadOrder.luau             -- ModuleScript: –ü–æ—Ä—è–¥–æ–∫ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤ (v1.0)
‚îî‚îÄ‚îÄ Planets/
    ‚îî‚îÄ‚îÄ Planet_1/
        ‚îú‚îÄ‚îÄ Workspace/
        ‚îÇ   ‚îî‚îÄ‚îÄ Planet                     -- Model: –ú–æ–¥–µ–ª—å –ø–ª–∞–Ω–µ—Ç–∏ –Ω–∞ –æ—Ä–±—ñ—Ç—ñ (–∫–æ–ø—ñ—é—î—Ç—å—Å—è –≤ game.Workspace)
        ‚îú‚îÄ‚îÄ Lighting/
        ‚îÇ   ‚îú‚îÄ‚îÄ Sky                        -- Sky: Skybox –ø–ª–∞–Ω–µ—Ç–∏ (–∫–æ–ø—ñ—é—î—Ç—å—Å—è –≤ game.Lighting)
        ‚îÇ   ‚îî‚îÄ‚îÄ Atmosphere                 -- Atmosphere: –ê—Ç–º–æ—Å—Ñ–µ—Ä–∞ (–∫–æ–ø—ñ—é—î—Ç—å—Å—è –≤ game.Lighting)
        ‚îú‚îÄ‚îÄ Scripts/
        ‚îÇ   ‚îú‚îÄ‚îÄ Server/
        ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...                    -- ModuleScript: –ó–∞–≥–∞–ª—å–Ω—ñ —Å–µ—Ä–≤–µ—Ä–Ω—ñ —Å–∫—Ä–∏–ø—Ç–∏ –ø–ª–∞–Ω–µ—Ç–∏
        ‚îÇ   ‚îî‚îÄ‚îÄ Client/
        ‚îÇ       ‚îî‚îÄ‚îÄ ...                    -- LocalScript: –ó–∞–≥–∞–ª—å–Ω—ñ –∫–ª—ñ—î–Ω—Ç—Å—å–∫—ñ —Å–∫—Ä–∏–ø—Ç–∏ –ø–ª–∞–Ω–µ—Ç–∏
        ‚îú‚îÄ‚îÄ Configuration/
        ‚îÇ   ‚îî‚îÄ‚îÄ PlanetConfig.luau          -- ModuleScript: –ö–æ–Ω—Ñ—ñ–≥ –ø–ª–∞–Ω–µ—Ç–∏ (v1.0)
        ‚îî‚îÄ‚îÄ Locations/
            ‚îú‚îÄ‚îÄ Location_1/
            ‚îÇ   ‚îú‚îÄ‚îÄ Workspace/
            ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SpawnLocation      -- SpawnLocation: –¢–æ—á–∫–∞ —Å–ø–∞–≤–Ω—É
            ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Baseplate          -- Part: –ü—ñ–¥–ª–æ–≥–∞
            ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...                -- –í–µ—Å—å –∫–æ–Ω—Ç–µ–Ω—Ç –∫–æ–ø—ñ—é—î—Ç—å—Å—è –≤ game.Workspace
            ‚îÇ   ‚îú‚îÄ‚îÄ Scripts/
            ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Server/
            ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ LocationGameServer.luau  -- ModuleScript: –õ–æ–≥—ñ–∫–∞ –≥—Ä–∏ (v1.0)
            ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Client/
            ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ LocationUI.luau  -- LocalScript: UI –ª–æ–∫–∞—Ü—ñ—ó
            ‚îÇ   ‚îú‚îÄ‚îÄ Configuration/
            ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ LoadOrder.luau     -- ModuleScript: –ü–æ—Ä—è–¥–æ–∫ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤ (v1.0)
            ‚îÇ   ‚îî‚îÄ‚îÄ Lighting/
            ‚îÇ       ‚îî‚îÄ‚îÄ Sky                -- Sky: Skybox –ª–æ–∫–∞—Ü—ñ—ó (–∫–æ–ø—ñ—é—î—Ç—å—Å—è –≤ game.Lighting)
            ‚îú‚îÄ‚îÄ Location_2/
            ‚îÇ   ‚îú‚îÄ‚îÄ Workspace/
            ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SpawnLocation      -- SpawnLocation: –¢–æ—á–∫–∞ —Å–ø–∞–≤–Ω—É
            ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...                -- –í–µ—Å—å –∫–æ–Ω—Ç–µ–Ω—Ç –∫–æ–ø—ñ—é—î—Ç—å—Å—è –≤ game.Workspace
            ‚îÇ   ‚îú‚îÄ‚îÄ Scripts/
            ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Server/
            ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ LocationGameServer.luau  -- ModuleScript: –õ–æ–≥—ñ–∫–∞ –≥—Ä–∏ (v1.0)
            ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Client/
            ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ ...            -- LocalScript: Client —Å–∫—Ä–∏–ø—Ç–∏ (–∫–æ–ø—ñ—é—é—Ç—å—Å—è –≤ StarterPlayerScripts)
            ‚îÇ   ‚îú‚îÄ‚îÄ Configuration/
            ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ LoadOrder.luau     -- ModuleScript: –ü–æ—Ä—è–¥–æ–∫ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤
            ‚îÇ   ‚îî‚îÄ‚îÄ Lighting/
            ‚îÇ       ‚îî‚îÄ‚îÄ ...                -- –ö–æ–ø—ñ—é—î—Ç—å—Å—è –≤ game.Lighting
            ‚îî‚îÄ‚îÄ Location_3/
                ‚îú‚îÄ‚îÄ Workspace/
                ‚îÇ   ‚îú‚îÄ‚îÄ SpawnLocation      -- SpawnLocation: –¢–æ—á–∫–∞ —Å–ø–∞–≤–Ω—É
                ‚îÇ   ‚îî‚îÄ‚îÄ ...                -- –í–µ—Å—å –∫–æ–Ω—Ç–µ–Ω—Ç –∫–æ–ø—ñ—é—î—Ç—å—Å—è –≤ game.Workspace
                ‚îú‚îÄ‚îÄ Scripts/
                ‚îÇ   ‚îú‚îÄ‚îÄ Server/
                ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ LocationGameServer.luau  -- ModuleScript: –õ–æ–≥—ñ–∫–∞ –≥—Ä–∏ (v1.0)
                ‚îÇ   ‚îî‚îÄ‚îÄ Client/
                ‚îÇ       ‚îî‚îÄ‚îÄ ...            -- LocalScript: Client —Å–∫—Ä–∏–ø—Ç–∏ (–∫–æ–ø—ñ—é—é—Ç—å—Å—è –≤ StarterPlayerScripts)
                ‚îú‚îÄ‚îÄ Configuration/
                ‚îÇ   ‚îî‚îÄ‚îÄ LoadOrder.luau     -- ModuleScript: –ü–æ—Ä—è–¥–æ–∫ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤
                ‚îî‚îÄ‚îÄ Lighting/
                    ‚îî‚îÄ‚îÄ ...                -- –ö–æ–ø—ñ—é—î—Ç—å—Å—è –≤ game.Lighting

3.2 –ü—Ä–∞–≤–∏–ª–∞ —ñ–º–µ–Ω—É–≤–∞–Ω–Ω—è –ø–∞–ø–æ–∫ Workspace —Ç–∞ Lighting

–í–ê–ñ–õ–ò–í–û: –ù–∞–∑–≤–∏ –ø–∞–ø–æ–∫ –ø–æ–∫–∞–∑—É—é—Ç—å –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –∫–æ–Ω—Ç–µ–Ω—Ç—É

Workspace –ø–∞–ø–∫–∞:
- –£–≤–µ—Å—å –∫–æ–Ω—Ç–µ–Ω—Ç –∑ —Ü—ñ—î—ó –ø–∞–ø–∫–∏ –∫–æ–ø—ñ—é—î—Ç—å—Å—è –≤ game.Workspace
- –ú—ñ—Å—Ç–∏—Ç—å –≤—Å—ñ —ñ–≥—Ä–æ–≤—ñ –æ–±'—î–∫—Ç–∏: –º–æ–¥–µ–ª—ñ, —á–∞—Å—Ç–∏–Ω–∏, SpawnLocation, —Ç–æ—â–æ
- –ü–æ–ø–µ—Ä–µ–¥–Ω—è –Ω–∞–∑–≤–∞: Models, PlanetModel
- –ù–æ–≤–∞ –Ω–∞–∑–≤–∞: Workspace (–ø–æ–∫–∞–∑—É—î —â–æ —Ü–µ ‚Üí game.Workspace)

Lighting –ø–∞–ø–∫–∞:
- –£–≤–µ—Å—å –∫–æ–Ω—Ç–µ–Ω—Ç –∑ —Ü—ñ—î—ó –ø–∞–ø–∫–∏ –∫–æ–ø—ñ—é—î—Ç—å—Å—è –≤ game.Lighting
- –ú—ñ—Å—Ç–∏—Ç—å: Sky, Atmosphere, ColorCorrection, Bloom, —Ç–æ—â–æ
- –ü–ª–∞–Ω–µ—Ç–∏ –º–∞—é—Ç—å Lighting (Sky, Atmosphere –¥–ª—è –∫–æ—Å–º–æ—Å—É)
- –õ–æ–∫–∞—Ü—ñ—ó –º–∞—é—Ç—å Lighting (Sky –¥–ª—è –ø–æ–≤–µ—Ä—Ö–Ω—ñ –ø–ª–∞–Ω–µ—Ç–∏)
- SpaceStation –ù–ï –º–∞—î –æ–∫—Ä–µ–º–æ—ó Lighting (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Lighting –ø–ª–∞–Ω–µ—Ç–∏)

Scripts –ø–∞–ø–∫–∞:
- –ú–∞—î –¥–≤—ñ –ø—ñ–¥–ø–∞–ø–∫–∏: Server/ —Ç–∞ Client/
- –Ü—Å–Ω—É—î –Ω–∞ —Ç—Ä—å–æ—Ö —Ä—ñ–≤–Ω—è—Ö:
  1. Space/SpaceStation/Scripts - —Å–∫—Ä–∏–ø—Ç–∏ –∫–æ—Å–º—ñ—á–Ω–æ—ó —Å—Ç–∞–Ω—Ü—ñ—ó
  2. Planets/Planet_N/Scripts - –∑–∞–≥–∞–ª—å–Ω—ñ —Å–∫—Ä–∏–ø—Ç–∏ –ø–ª–∞–Ω–µ—Ç–∏ (–¥–ª—è –≤—Å—ñ—Ö –ª–æ–∫–∞—Ü—ñ–π)
  3. Planets/Planet_N/Locations/Location_N/Scripts - —Å–∫—Ä–∏–ø—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó –ª–æ–∫–∞—Ü—ñ—ó

Scripts/Server/:
- ModuleScripts, –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è –≤ ServerStorage
- –î–æ—Å—Ç—É–ø–Ω—ñ —á–µ—Ä–µ–∑ require() –∑ LocationManager —Ç–∞ —ñ–Ω—à–∏—Ö —Å–∏—Å—Ç–µ–º
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ—ó –ª–æ–≥—ñ–∫–∏ (LocationGameServer, PlanetSurfaceScanner, —Ç–æ—â–æ)

Scripts/Client/:
- LocalScripts, –∫–æ–ø—ñ—é—é—Ç—å—Å—è –≤ StarterPlayerScripts
- –ö–æ–ø—ñ—é—é—Ç—å—Å—è –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –≥—Ä–∞–≤—Ü—è –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
- –í–∏–∫–æ–Ω—É—é—Ç—å—Å—è –Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ –¥–ª—è UI —Ç–∞ –∫–ª—ñ—î–Ω—Ç—Å—å–∫–æ—ó –ª–æ–≥—ñ–∫–∏
- –ü–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ Space:
  1. Planet/Scripts/Client/ (–∑–∞–≥–∞–ª—å–Ω—ñ –¥–ª—è –ø–ª–∞–Ω–µ—Ç–∏)
  2. SpaceStation/Scripts/Client/ (—Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –¥–ª—è —Å—Ç–∞–Ω—Ü—ñ—ó)
- –ü–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ Location:
  1. Planet/Scripts/Client/ (–∑–∞–≥–∞–ª—å–Ω—ñ –¥–ª—è –ø–ª–∞–Ω–µ—Ç–∏) - –ø—Ä–∏ LoadSpaceEnvironment
  2. Location/Scripts/Client/ (—Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –¥–ª—è –ª–æ–∫–∞—Ü—ñ—ó) - –ø—Ä–∏ LoadPlanetEnvironment

Cleaning –ø—Ä–∞–≤–∏–ª–∞:
- –ü–µ—Ä–µ–¥ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞:
  1. –û—á–∏—â—É—î—Ç—å—Å—è game.Workspace (–∫—Ä—ñ–º Camera, Terrain)
  2. –û—á–∏—â—É—î—Ç—å—Å—è game.Lighting (–≤—Å—ñ –¥–æ—á—ñ—Ä–Ω—ñ –æ–±'—î–∫—Ç–∏)
  3. Client —Å–∫—Ä–∏–ø—Ç–∏ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ—ó –ª–æ–∫–∞—Ü—ñ—ó –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è –≤ StarterPlayerScripts
- EnvironmentLoader.clearWorkspace() –≤–∏–∫–æ–Ω—É—î Workspace —Ç–∞ Lighting –æ—á–∏—â–µ–Ω–Ω—è

3.3 –ü–ª–∞–Ω–æ–≤–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–¥–∏–≤. ArchitectureImproves.luau)

ServerStorage/
‚îú‚îÄ‚îÄ Space/
‚îÇ   ‚îú‚îÄ‚îÄ SpaceStation/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Workspace/      -- –ö–æ–Ω—Ç–µ–Ω—Ç ‚Üí game.Workspace
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Scripts/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Server/     -- Server scripts (‚Üí Workspace/require)
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Client/     -- Client scripts (‚Üí StarterPlayerScripts)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Configuration/
‚îÇ   ‚îî‚îÄ‚îÄ Common/
‚îú‚îÄ‚îÄ Planets/
‚îÇ   ‚îî‚îÄ‚îÄ Planet_1/
‚îÇ       ‚îú‚îÄ‚îÄ Workspace/      -- –ö–æ–Ω—Ç–µ–Ω—Ç ‚Üí game.Workspace
‚îÇ       ‚îú‚îÄ‚îÄ Lighting/       -- –ö–æ–Ω—Ç–µ–Ω—Ç ‚Üí game.Lighting
‚îÇ       ‚îú‚îÄ‚îÄ Scripts/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ Server/     -- –ó–∞–≥–∞–ª—å–Ω—ñ —Å–µ—Ä–≤–µ—Ä–Ω—ñ —Å–∫—Ä–∏–ø—Ç–∏ –ø–ª–∞–Ω–µ—Ç–∏
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ Client/     -- –ó–∞–≥–∞–ª—å–Ω—ñ –∫–ª—ñ—î–Ω—Ç—Å—å–∫—ñ —Å–∫—Ä–∏–ø—Ç–∏ –ø–ª–∞–Ω–µ—Ç–∏
‚îÇ       ‚îú‚îÄ‚îÄ Locations/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ Location_N/
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ Workspace/      -- –ö–æ–Ω—Ç–µ–Ω—Ç ‚Üí game.Workspace
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ Scripts/
‚îÇ       ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ Server/ -- Server scripts
‚îÇ       ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ Client/ -- Client scripts
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ Lighting/       -- –ö–æ–Ω—Ç–µ–Ω—Ç ‚Üí game.Lighting
‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ Configuration/
‚îÇ       ‚îî‚îÄ‚îÄ Configuration/
‚îî‚îÄ‚îÄ Effects/

3.4 –û–±–º–µ–∂–µ–Ω–Ω—è —Ä–æ–∑–º—ñ—â–µ–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç—ñ–≤ –≤ Roblox

–¢–∏–ø–∏ —Å–∫—Ä–∏–ø—Ç—ñ–≤:
- Script (–≤ ServerScriptService) ‚Üí –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –¢–Ü–õ–¨–ö–ò –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ
- LocalScript (–≤ StarterPlayerScripts) ‚Üí –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –¢–Ü–õ–¨–ö–ò –Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ
- ModuleScript (.luau) ‚Üí –º–æ–∂–µ require –∑ –æ–±–æ—Ö —Å—Ç–æ—Ä—ñ–Ω

–Ü–º–µ–Ω—É–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ (–¥–∏–≤. Std/CodeConvention.luau):
- –û–¥–Ω–∞ –∫—Ä–∞–ø–∫–∞ —Ç—ñ–ª—å–∫–∏ –ø–µ—Ä–µ–¥ .luau
- ServerScriptService/*.server.luau ‚Üí Script
- StarterPlayerScripts/*.luau ‚Üí LocalScript
- –í—Å—ñ —ñ–Ω—à—ñ *.luau ‚Üí ModuleScript

LocalScript –ø—Ä–∞—Ü—é—î –¢–Ü–õ–¨–ö–ò –≤:
- StarterPlayerScripts, StarterGui, PlayerGui
- StarterCharacterScripts, ReplicatedFirst

LocalScript –ù–ï –ø—Ä–∞—Ü—é—î –≤:
- Workspace (—ñ–≥–Ω–æ—Ä—É—î—Ç—å—Å—è!)
- ServerStorage, ServerScriptService

–¢–æ–º—É Scripts/ —Ä–æ–∑–¥—ñ–ª–µ–Ω–æ:
- Scripts/Server/ ‚Üí Workspace –∞–±–æ require —è–∫ ModuleScript
- Scripts/Client/ ‚Üí StarterPlayerScripts –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –≥—Ä–∞–≤—Ü—è

================================================================================
4. CORE SYSTEMS
================================================================================

--------------------------------------------------
4.1 GameInit (IMPLEMENTED - v3.7)
--------------------------------------------------

Responsibility:
- –ü–æ–≤–Ω–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –≥—Ä–∏
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó —á–µ—Ä–µ–∑ ConfigValidator ‚úÖ NEW
- –ï–∫—Ä–∞–Ω –≤—Ö–æ–¥—É –∑ progress bar
- –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö —Ç–∞ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ç–∏–ø—É –≥—Ä–∞–≤—Ü—è
- –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ (Space, Planet, SpaceStation)
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü—ñ—è —Å–ø–∞–≤–Ω—É –≥—Ä–∞–≤—Ü—ñ–≤
- –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å–∏—Å—Ç–µ–º

State:
- initialized: boolean
- currentLocation: string
- loadingPlayers: table

Public API:
- createLoginScreen(player)
- loadPlayerData(player)
- prepareGameEnvironment(playerProfile)
- spawnPlayer(player, playerProfile)
- initializeGameSystem()

Data Flow:
1. GameInit -> DataStoreManager.LoadPlayerData()
2. DataStoreManager -> –ø–æ–≤–µ—Ä—Ç–∞—î –¥–∞–Ω—ñ –∞–±–æ —Å—Ç–≤–æ—Ä—é—î default
3. GameInit -> —Å–ø–∞–≤–Ω–∏—Ç—å –≥—Ä–∞–≤—Ü—è –ó–ê–í–ñ–î–ò (–Ω–∞–≤—ñ—Ç—å –ø—Ä–∏ –ø–æ–º–∏–ª–∫–∞—Ö)
4. GameInit -> fire PlayerDataReady event
5. TeleportationManager -> —Å–ª—É—Ö–∞—î PlayerDataReady

Calls to:
- ConfigValidator: ValidateConfig() –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó ‚úÖ NEW
- DataStoreManager: LoadPlayerData(), UpdatePlayerData(), Initialize()
- PlayerDataManager: GetPlayerInfo()
- GameConfig: –ß–∏—Ç–∞—î –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é
- LocationManager: Initialize()
- TeleportationManager: Initialize()
- RemoteEventsRegistry: Initialize() ‚úÖ NEW

Dependencies:
- ConfigValidator, GameConfig, DataStoreManager, PlayerDataManager
- LocationManager, TeleportationManager, RemoteEventsRegistry
- Players, ServerStorage, ReplicatedStorage, TweenService

--------------------------------------------------
4.2 DataStoreManager (IMPLEMENTED - v2.0)
--------------------------------------------------

Responsibility:
- –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü—ñ—è –¥–∞–Ω–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤
- –í–∏—è–≤–ª–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö vs —ñ—Å–Ω—É—é—á–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç–∞ –º—ñ–≥—Ä–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö
- –°—Ö–µ–º–∞ –≤–µ—Ä—Å—ñ–æ–Ω—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö (SchemaVersion) ‚úÖ IMPLEMENTED

Public API:
- Initialize()
- LoadPlayerData(player)
- UpdatePlayerData(player, updates)
- SavePlayerData(player)
- migratePlayerData(playerData, player) - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –º—ñ–≥—Ä–∞—Ü—ñ—è v1‚Üív2 ‚úÖ NEW
- getDefaultPlayerData(player) - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ –ø—Ä–æ—Ñ—ñ–ª—é –∑ SchemaVersion=2 ‚úÖ NEW

Migration Support:
- v1 ‚Üí v2: –ö–æ–Ω—Å–æ–ª—ñ–¥–∞—Ü—ñ—è Stats, –¥–æ–¥–∞–≤–∞–Ω–Ω—è Settings table
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –º—ñ–≥—Ä–∞—Ü—ñ—è –ø—Ä–∏ LoadPlayerData()
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ GameConfig.DATA_SCHEMA_VERSION

Error Handling:
- –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ DataStore - –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ session-only –¥–∞–Ω–∏–º–∏
- –ü–æ–≤–µ—Ä—Ç–∞—Ç–∏ default –ø—Ä–æ—Ñ—ñ–ª—å –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –ø–æ–º–∏–ª–∫–∞—Ö

--------------------------------------------------
4.3 PlayerDataManager (IMPLEMENTED - v1.0)
--------------------------------------------------

Responsibility:
- –ö–µ—Ä—É–≤–∞–Ω–Ω—è —Å—Ç–∞–Ω–æ–º –≥—Ä–∞–≤—Ü—ñ–≤
- –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- –ö–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ü—ñ—è —Ç–∏–ø—ñ–≤ –≥—Ä–∞–≤—Ü—ñ–≤

Public API:
- GetPlayerInfo(player)
- UpdatePlayerStats(player, updates)
- GetPlayerType(player)

--------------------------------------------------
4.4 ConfigValidator (IMPLEMENTED - v1.0) ‚úÖ NEW
--------------------------------------------------

Responsibility:
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ GameConfig –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –æ–±–æ–≤'—è–∑–∫–æ–≤–∏—Ö –ø–æ–ª—ñ–≤ –ø–ª–∞–Ω–µ—Ç —Ç–∞ –ª–æ–∫–∞—Ü—ñ–π
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è —ñ—Å–Ω—É–≤–∞–Ω–Ω—è –º–æ–¥–µ–ª–µ–π —É ServerStorage
- Fail-fast –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –ø–æ–º–∏–ª–∫–∞—Ö –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
- –ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –ø—Ä–æ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏

Public API:
- ValidateConfig(config, serverStorage): (boolean, report)
- GetValidationReport(): table

Validation Categories:
- Required Fields: GameName, GameVersion, DATA_SCHEMA_VERSION, DEFAULT_PLANET, etc.
- Planet Configuration: Planet metadata, IsAvailable, Locations
- Location Configuration: Name, DisplayName, SpawnPoint, Folder
- SpaceStation Configuration: SpawnPoint, optional PlanetSurfaceScanner
- ServerStorage Models: Folder structure, model existence, type validation

Error Types:
- Errors (‚ùå): –ö—Ä–∏—Ç–∏—á–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏ - —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è
- Warnings (‚ö†Ô∏è): –ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏ - —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –∑ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è–º–∏
- Info (‚ÑπÔ∏è): –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø—Ä–æ–≥—Ä–µ—Å –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó

Integration:
- –í–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –≤ GameInit.server.luau –ø—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è GameConfig
- –ó—É–ø–∏–Ω—è—î —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –ø–æ–º–∏–ª–∫–∞—Ö –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
- –î–µ—Ç–∞–ª—å–Ω–∏–π –∑–≤—ñ—Ç —É –∫–æ–Ω—Å–æ–ª—ñ –ø—Ä–æ –≤—Å—ñ –ø—Ä–æ–±–ª–µ–º–∏

Benefits:
- –†–∞–Ω–Ω—î –≤–∏—è–≤–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
- –ó–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è runtime –ø–æ–º–∏–ª–∫–∞–º —á–µ—Ä–µ–∑ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—É –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é
- –î–µ—Ç–∞–ª—å–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø—Ä–æ–±–ª–µ–º–∏ –∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º

--------------------------------------------------
4.5 BaseLocationManager (IMPLEMENTED - v1.0) ‚úÖ NEW
--------------------------------------------------

Responsibility:
- –ë–∞–∑–æ–≤–∏–π –∫–ª–∞—Å –¥–ª—è –≤—Å—ñ—Ö location managers
- Lifecycle management (Initialize, Cleanup, Update)
- Player tracking (TrackPlayer, UntrackPlayer, GetActivePlayers)
- Event connection management (ConnectEvent, DisconnectAllEvents)
- Custom player data storage (GetPlayerData, SetPlayerData)
- Override hooks –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω–æ—ó –ª–æ–≥—ñ–∫–∏

Architecture:
–ë–∞–∑–æ–≤–∏–π –∫–ª–∞—Å –∑ –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è–º –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ–π:
- BaseLocationManager ‚Üí SpaceStationManager (–¥–ª—è –∫–æ—Å–º—ñ—á–Ω–æ—ó —Å—Ç–∞–Ω—Ü—ñ—ó)
- BaseLocationManager ‚Üí LocationController (–¥–ª—è planet locations)

Public API:
- new(locationId, locationName): self - –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
- Initialize(locationModel): boolean - —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è location
- Cleanup(): void - –æ—á–∏—â–µ–Ω–Ω—è –ø–µ—Ä–µ–¥ –≤–∏–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º
- Update(deltaTime): void - optional update loop
- OnPlayerEnter(player): void - –æ–±—Ä–æ–±–∫–∞ –≤—Ö–æ–¥—É –≥—Ä–∞–≤—Ü—è
- OnPlayerLeave(player): void - –æ–±—Ä–æ–±–∫–∞ –≤–∏—Ö–æ–¥—É –≥—Ä–∞–≤—Ü—è
- TrackPlayer(player): void - –¥–æ–¥–∞—Ç–∏ –≥—Ä–∞–≤—Ü—è –¥–æ –∞–∫—Ç–∏–≤–Ω–∏—Ö
- UntrackPlayer(player): void - –≤–∏–¥–∞–ª–∏—Ç–∏ –≥—Ä–∞–≤—Ü—è –∑ –∞–∫—Ç–∏–≤–Ω–∏—Ö
- GetActivePlayers(): {Player} - –æ—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤
- ConnectEvent(connection): void - –∑–±–µ—Ä–µ–≥—Ç–∏ event connection –¥–ª—è cleanup
- DisconnectAllEvents(): void - –≤—ñ–¥–∫–ª—é—á–∏—Ç–∏ –≤—Å—ñ –ø–æ–¥—ñ—ó
- GetPlayerData(player): table - –æ—Ç—Ä–∏–º–∞—Ç–∏ –∫–∞—Å—Ç–æ–º–Ω—ñ –¥–∞–Ω—ñ –≥—Ä–∞–≤—Ü—è
- SetPlayerData(player, key, value): void - –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∫–∞—Å—Ç–æ–º–Ω—ñ –¥–∞–Ω—ñ

Override Hooks:
- OnInitialize(locationModel): void - –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –ø—Ä–∏ Initialize()
- OnCleanup(): void - –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –ø—Ä–∏ Cleanup()
- OnUpdate(deltaTime): void - –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –ø—Ä–∏ Update()
- OnPlayerEntered(player): void - –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –ø—ñ—Å–ª—è OnPlayerEnter()
- OnPlayerLeft(player): void - –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –ø–µ—Ä–µ–¥ OnPlayerLeave()

Implementations:
1. SpaceStationManager (v1.0):
   - –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∞–º–∏ —Å—Ç–∞–Ω—Ü—ñ—ó (LifeSupport, PowerGrid, Communications)
   - –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ PlanetSurfaceScanner
   - –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è —á–∞—Å—É –ø–µ—Ä–µ–±—É–≤–∞–Ω–Ω—è –≥—Ä–∞–≤—Ü—ñ–≤ –Ω–∞ —Å—Ç–∞–Ω—Ü—ñ—ó
   - GetStationStatus(): table - —Å—Ç–∞—Ç—É—Å –≤—Å—ñ—Ö —Å–∏—Å—Ç–µ–º —Å—Ç–∞–Ω—Ü—ñ—ó

2. LocationController (template v1.0):
   - –®–∞–±–ª–æ–Ω –¥–ª—è planet location controllers
   - –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å–∞–º–∏ –ª–æ–∫–∞—Ü—ñ—ó (spawn, collection)
   - NPC management hooks
   - –ö–∞—Å—Ç–æ–º—ñ–∑–∞—Ü—ñ—è —á–µ—Ä–µ–∑ LOCATION_CONFIG

Benefits:
- –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∏–π API –¥–ª—è –≤—Å—ñ—Ö location managers
- –£–Ω–∏–∫–Ω–µ–Ω–Ω—è –¥—É–±–ª—é–≤–∞–Ω–Ω—è –∫–æ–¥—É (DRY)
- Player tracking –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ cleanup –ø—Ä–∏ disconnect
- Event management –∑–∞–ø–æ–±—ñ–≥–∞—î memory leaks
- –õ–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ location types —á–µ—Ä–µ–∑ –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è

--------------------------------------------------
4.6 RemoteEventsRegistry (IMPLEMENTED - v1.0) ‚úÖ NEW
--------------------------------------------------

Responsibility:
- –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—Å—ñ—Ö RemoteEvents
- –Ñ–¥–∏–Ω–µ –¥–∂–µ—Ä–µ–ª–æ —ñ—Å—Ç–∏–Ω–∏ –¥–ª—è RemoteEvents
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è —ñ—Å–Ω—É–≤–∞–Ω–Ω—è RemoteEvents
- –ó–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è –¥—É–±–ª—ñ–∫–∞—Ç–∞–º —Ç–∞ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç–∞–º

Architectural Rules:
‚úÖ RemoteEvents —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –í–ò–ö–õ–Æ–ß–ù–û —á–µ—Ä–µ–∑ Initialize() –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ
‚úÖ –ö–ª—ñ—î–Ω—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å WaitFor() –∞–±–æ WaitForChild()
‚úÖ –°–µ—Ä–≤–µ—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Get() –ø—ñ—Å–ª—è Initialize()
‚ùå –ù–Ü–ö–û–õ–ò –Ω–µ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ RemoteEvents –ø–æ–∑–∞ —Ü–∏–º –º–æ–¥—É–ª–µ–º

Public API:
- Initialize(): (boolean, string?) - —Å—Ç–≤–æ—Ä—é—î –≤—Å—ñ RemoteEvents (server only)
- Get(eventName): RemoteEvent - –æ—Ç—Ä–∏–º–∞—Ç–∏ RemoteEvent (server only)
- WaitFor(eventName, timeout?): RemoteEvent - –æ—á—ñ–∫—É–≤–∞—Ç–∏ RemoteEvent (client)
- Validate(): (boolean, table) - –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —ñ—Å–Ω—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö RemoteEvents
- GetRegisteredEvents(): {string} - —Å–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∏—Ö events

Registered RemoteEvents:
- TeleportationEvent - –∑–∞–ø–∏—Ç –Ω–∞ —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü—ñ—é –≤—ñ–¥ –∫–ª—ñ—î–Ω—Ç–∞
- TeleportationStateEvent - –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞–Ω—É —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü—ñ—ó –¥–ª—è –∫–ª—ñ—î–Ω—Ç–∞
- PlanetSurfaceScanner_Results - —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è –ø–ª–∞–Ω–µ—Ç–∏
- PlayerDataReady - —Å–∏–≥–Ω–∞–ª –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ –¥–∞–Ω–∏—Ö –≥—Ä–∞–≤—Ü—è

Lifecycle:
1. GameInit.Initialize() –≤–∏–∫–ª–∏–∫–∞—î RemoteEventsRegistry.Initialize()
2. –í—Å—ñ RemoteEvents —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –≤ ReplicatedStorage
3. –°–µ—Ä–≤–µ—Ä–Ω—ñ —Å–∏—Å—Ç–µ–º–∏ –æ—Ç—Ä–∏–º—É—é—Ç—å RemoteEvents —á–µ—Ä–µ–∑ Get()
4. –ö–ª—ñ—î–Ω—Ç—Å—å–∫—ñ —Å–∫—Ä–∏–ø—Ç–∏ –æ—Ç—Ä–∏–º—É—é—Ç—å —á–µ—Ä–µ–∑ WaitFor() –∞–±–æ WaitForChild()
5. Validate() –ø–µ—Ä–µ–≤—ñ—Ä—è—î —ñ—Å–Ω—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö events

Benefits:
- –ó–∞–ø–æ–±—ñ–≥–∞—î –¥—É–±–ª—é–≤–∞–Ω–Ω—é RemoteEvents
- –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—î—é client-server
- –õ–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ RemoteEvents
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ –∑–∞–ø–æ–±—ñ–≥–∞—î runtime –ø–æ–º–∏–ª–∫–∞–º
- –ß—ñ—Ç–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –≤—Å—ñ—Ö —Ç–æ—á–æ–∫ –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—ó –≤ –≥—Ä—ñ

================================================================================
5. RUNTIME SYSTEMS
================================================================================

--------------------------------------------------
5.1 LocationManager (IMPLEMENTED - v3.0 + FSM)
--------------------------------------------------

Responsibility:
- –ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –ª–æ–∫–∞—Ü—ñ–π
- –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è/–≤–∏–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–æ–¥–µ–ª–µ–π
- –ö–µ—Ä—É–≤–∞–Ω–Ω—è –æ—Å–≤—ñ—Ç–ª–µ–Ω–Ω—è–º
- FSM-based state management ‚úÖ IMPLEMENTED

FSM States: ‚úÖ IMPLEMENTED
- IDLE: –û—á—ñ–∫—É–≤–∞–Ω–Ω—è
- VALIDATING: –í–∞–ª—ñ–¥–∞—Ü—ñ—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –∑–∞–ø–∏—Ç—É
- CLEANING: –û—á–∏—â–µ–Ω–Ω—è Workspace
- LOADING_PLANET: –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø–ª–∞–Ω–µ—Ç–∏
- LOADING_LOCATION: –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ª–æ–∫–∞—Ü—ñ—ó
- VERIFYING: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –æ–±'—î–∫—Ç—ñ–≤
- READY: –ì–æ—Ç–æ–≤–æ
- ERROR: –ü–æ–º–∏–ª–∫–∞ (fallback)

State Transitions:
- IDLE ‚Üí VALIDATING ‚Üí CLEANING ‚Üí LOADING_PLANET ‚Üí LOADING_LOCATION ‚Üí VERIFYING ‚Üí READY
- Any state ‚Üí ERROR (on failure)
- Timeouts: 10-30s per state with automatic fallback

Public API:
- Initialize()
- SwitchToSpaceStation(planetId, reason) - –∑ FSM –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é ‚úÖ UPDATED
- SwitchToPlanetLocation(planetId, locationId, reason) - –∑ FSM –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é ‚úÖ UPDATED
- GetState(): string ‚úÖ IMPLEMENTED
- GetCurrentLocation(): table ‚úÖ IMPLEMENTED

Error Handling:
- –ü—Ä–∏ –Ω–µ–º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –ª–æ–∫–∞—Ü—ñ—é - –∑–∞–ª–∏—à–∏—Ç–∏ –Ω–∞ –ø–æ—Ç–æ—á–Ω—ñ–π
- Timeout –Ω–∞ –∫–æ–∂–µ–Ω –µ—Ç–∞–ø –∑ fallback
- –î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –ø–µ—Ä–µ—Ö–æ–¥—ñ–≤ —Å—Ç–∞–Ω—É

--------------------------------------------------
5.2 TeleportationManager (IMPLEMENTED - v4.1)
--------------------------------------------------

Responsibility:
- –ü–æ–≤–Ω–µ –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü—ñ—î—é
- UI —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü—ñ—ó –∑ debounce
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –ª–æ–∫–∞—Ü—ñ–π —Ç–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü—ñ—ó
- Cooldown —Ç–∞ –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Å—Ç–∞–Ω–æ–º
- –í—ñ–∑—É–∞–ª—å–Ω—ñ –µ—Ñ–µ–∫—Ç–∏ (TeleportParticle)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø—Ä–∏—Ö–æ–≤—É–≤–∞–Ω–Ω—è UI –ø—Ä–∏ –≤–∏—Ö–æ–¥—ñ –∑—ñ SpawnLocation
- –ì–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–∞ –æ–ø—Ü—ñ—è –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –Ω–∞ Space Station

[PLANNED] FSM States:
- INACTIVE: –ù–µ–∞–∫—Ç–∏–≤–Ω–∏–π (—Å—ñ—Ä–∏–π SpawnLocation)
- ACTIVE: –ê–∫—Ç–∏–≤–Ω–∏–π (—Å–∏–Ω—è –ø—É–ª—å—Å–∞—Ü—ñ—è)
- COOLDOWN: –ü–µ—Ä—ñ–æ–¥ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è
- TELEPORTING: –í–∏–∫–æ–Ω–∞–Ω–Ω—è —Ç–µ–ª–µ–ø–æ—Ä—Ç—É

Components:
- TeleportationManager.luau (ModuleScript v4.1)
- TeleportationClient.client.luau (Client UI v2.1)
- ScannerService.luau (–ê–∫—Ç–∏–≤—É—î –ø—ñ—Å–ª—è —Å–∫–∞–Ω—É)
- RemoteEvents: TeleportationEvent, TeleportationStateEvent

Public API:
- Initialize()
- Activate(player, isActive)
- GetDiscoveredLocations(player)
- SwitchLocation(player, targetLocation)
- IsActive()
- OnSpawnTouched(otherPart)
- OnSpawnTouchEnded(otherPart)
- GetState()

Activation Logic:
1. –ì—Ä–∞–≤–µ—Ü—å –ø—Ä–∏—î–¥–Ω—É—î—Ç—å—Å—è ‚Üí TeleportationManager —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π –∞–ª–µ INACTIVE
2. –ì—Ä–∞–≤–µ—Ü—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Scanner ‚Üí ScannerService –∞–∫—Ç–∏–≤—É—î TeleportationManager
3. TeleportationManager –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è ACTIVE –Ω–∞ –≤—Å—é —Å–µ—Å—ñ—é
4. –ì—Ä–∞–≤–µ—Ü—å –º–æ–∂–µ —Ç–µ–ª–µ–ø–æ—Ä—Ç—É–≤–∞—Ç–∏—Å—è –º—ñ–∂ –ª–æ–∫–∞—Ü—ñ—è–º–∏ –ø—ñ—Å–ª—è –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó

Connection Management:
- –ó–±–µ—Ä—ñ–≥–∞—Ç–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –≤ —Ç–∞–±–ª–∏—Ü—ñ –¥–ª—è disconnect
- –ü—Ä–∏ –∑–º—ñ–Ω—ñ SpawnLocation –≤—ñ–¥–∫–ª—é—á–∞—Ç–∏ —Å—Ç–∞—Ä—ñ –ø–æ–¥—ñ—ó

--------------------------------------------------
5.3 PlanetSurfaceScanner (IMPLEMENTED)
--------------------------------------------------

Responsibility:
- –°–∫–∞–Ω—É–≤–∞–Ω–Ω—è –ø–æ–≤–µ—Ä—Ö–Ω—ñ –ø–ª–∞–Ω–µ—Ç–∏
- –í—ñ–∑—É–∞–ª—å–Ω—ñ —Ç–∞ –∞—É–¥—ñ–æ –µ—Ñ–µ–∫—Ç–∏
- –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –≤—ñ–¥–∫—Ä–∏—Ç–∏—Ö –ª–æ–∫–∞—Ü—ñ–π
- –ê–∫—Ç–∏–≤–∞—Ü—ñ—è —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü—ñ—ó

Components:
- PlanetSurfaceScanner.luau (Server logic)
- ScannerService.luau (Scanner controller)
- PlanetSurfaceScannerClient.client.luau (Client UI)

States:
- Inactive (—Å—ñ—Ä–∏–π —Å–∫–∞–Ω–µ—Ä)
- Active (—Å–∏–Ω—ñ–π —Å–∫–∞–Ω–µ—Ä –∑ –µ—Ñ–µ–∫—Ç–∞–º–∏)
- Scanning (–ø–æ–≤–Ω–∞ –∞–Ω—ñ–º–∞—Ü—ñ—è)

Public API:
- startScanEffect(player)
- getDiscoveredLocations(player)
- updateTeleportationState()

--------------------------------------------------
5.4 PlanetConfig (NEW - IMPLEMENTED v1.0)
--------------------------------------------------

Responsibility:
- –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Ç–∞ –ø—Ä–∞–≤–∏–ª–∞ –≥—Ä–∏ –°–ü–Ü–õ–¨–ù–Ü –¥–ª—è –≤—Å—ñ—Ö –ª–æ–∫–∞—Ü—ñ–π –ø–ª–∞–Ω–µ—Ç–∏
- –§—ñ–∑–∏—á–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ –ø–ª–∞–Ω–µ—Ç–∏ (–≥—Ä–∞–≤—ñ—Ç–∞—Ü—ñ—è, –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞)
- –®–≤–∏–¥–∫–æ—Å—Ç—ñ —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —Ä–µ—Å—É—Ä—Å—ñ–≤
- –ï–∫–æ–Ω–æ–º—ñ–∫–∞ –ø–ª–∞–Ω–µ—Ç–∏
- –£–º–æ–≤–∏ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è –ª–æ–∫–∞—Ü—ñ–π

Location:
ServerStorage/Planets/{PlanetId}/Configuration/PlanetConfig.luau

State:
- PLANET_ID: string
- PLANET_NAME: string
- GRAVITY: number (–º–Ω–æ–∂–Ω–∏–∫, 1.0 = –∑–µ–º–Ω–∞)
- ATMOSPHERE: table (HasOxygen, Density, Color, ...)
- LIGHTING: table (ClockTime, Brightness, ...)
- GAME_RULES: table (AllowResourceCollection, AllowPvP, ...)
- RESOURCE_RATES: table (Ore, Crystal, Artifact, Energy)
- ECONOMY: table (Currency, BasePrices)
- LOCATION_UNLOCK_CONDITIONS: table (—É–º–æ–≤–∏ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è)

Public API:
- GetPlanetRules(): table
- GetGravity(): number
- GetAtmosphere(): table
- GetResourceRates(): table
- IsLocationUnlocked(locationId, playerData): boolean
- ApplyPlanetPhysics(): void (–∑–∞—Å—Ç–æ—Å–æ–≤—É—î –≥—Ä–∞–≤—ñ—Ç–∞—Ü—ñ—é –¥–æ Workspace)

Lifecycle:
- –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è LocationManager –ø—Ä–∏ –∑–º—ñ–Ω—ñ –ø–ª–∞–Ω–µ—Ç–∏
- –ó–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è –ø—Ä–∏ Initialize() LocationGameServer
- –î–æ—Å—Ç—É–ø–Ω–∏–π —á–µ—Ä–µ–∑ LocationManager.GetCurrentPlanetConfig()

--------------------------------------------------
5.5 LocationGameServer (NEW - IMPLEMENTED v1.0)
--------------------------------------------------

Responsibility:
- –£–Ω—ñ–∫–∞–ª—å–Ω–∞ —ñ–≥—Ä–æ–≤–∞ –ª–æ–≥—ñ–∫–∞ –¥–ª—è –ö–û–ñ–ù–û–á –ª–æ–∫–∞—Ü—ñ—ó –æ–∫—Ä–µ–º–æ
- –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å–∞–º–∏ –ª–æ–∫–∞—Ü—ñ—ó (spawn, respawn)
- –õ–æ–≥—ñ–∫–∞ NPC –ª–æ–∫–∞—Ü—ñ—ó
- –ö–≤–µ—Å—Ç–∏ –ª–æ–∫–∞—Ü—ñ—ó
- –ú—ñ–Ω—ñ-—ñ–≥—Ä–∏ –ª–æ–∫–∞—Ü—ñ—ó
- –¢—Ä–µ–∫—ñ–Ω–≥ –∞–∫—Ç–∏–≤–Ω–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤ –≤ –ª–æ–∫–∞—Ü—ñ—ó

Location:
ServerStorage/Planets/{PlanetId}/Locations/{LocationId}/Scripts/Server/LocationGameServer.luau

State:
- LOCATION_ID: string
- LOCATION_NAME: string
- PLANET_ID: string
- LOCATION_RULES: table (DisplayName, Features, MaxPlayers, ...)
- locationModel: Model (reference –¥–æ Workspace)
- activePlayers: table (–∞–∫—Ç–∏–≤–Ω—ñ –≥—Ä–∞–≤—Ü—ñ –≤ –ª–æ–∫–∞—Ü—ñ—ó)
- resources: table (—Ä–µ—Å—É—Ä—Å–∏ –ª–æ–∫–∞—Ü—ñ—ó)
- connections: table (–ø–æ–¥—ñ—ó)
- isInitialized: boolean

Public API:
- Initialize(locationModel): boolean
- Cleanup(): void
- OnPlayerEnter(player): void
- OnPlayerLeave(player): void
- GetLocationRules(): table
- GetActivePlayersCount(): number
- IsInitialized(): boolean

Lifecycle:
1. LocationManager.SwitchToPlanetLocation() –≤–∏–∫–ª–∏–∫–∞—î EnvironmentLoader
2. EnvironmentLoader –∫–æ–ø—ñ—é—î –ª–æ–∫–∞—Ü—ñ—é –≤ Workspace
3. LocationManager –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î LocationGameServer –∑ ServerStorage
4. LocationManager –≤–∏–∫–ª–∏–∫–∞—î Initialize(locationModel)
5. LocationGameServer:
   - –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î —Ä–µ—Å—É—Ä—Å–∏ (CollectionService tags)
   - –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î NPC
   - –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î –∫–≤–µ—Å—Ç–∏
   - –ó–∞—Å—Ç–æ—Å–æ–≤—É—î PlanetConfig.ApplyPlanetPhysics()
6. –ü—Ä–∏ –≤–∏—Ö–æ–¥—ñ –∑ –ª–æ–∫–∞—Ü—ñ—ó: LocationManager –≤–∏–∫–ª–∏–∫–∞—î Cleanup()

Integration:
- –î–æ—Å—Ç—É–ø–Ω–∏–π —á–µ—Ä–µ–∑ LocationManager.GetCurrentLocationGameServer()
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î PlanetConfig –¥–ª—è –ø–ª–∞–Ω–µ—Ç–∞—Ä–Ω–∏—Ö –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å
- –ü—ñ–¥–∫–ª—é—á–µ–Ω–∏–π –¥–æ PlayerDataManager –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—É –≥—Ä–∞–≤—Ü—è

–°—Ç–≤–æ—Ä–µ–Ω—ñ —à–∞–±–ª–æ–Ω–∏:
- Location_1/Scripts/Server/LocationGameServer.luau (–ø–æ–≤–Ω–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª)
- Location_2/Scripts/Server/LocationGameServer.luau (–±–∞–∑–æ–≤–∏–π —à–∞–±–ª–æ–Ω)
- Location_3/Scripts/Server/LocationGameServer.luau (–±–∞–∑–æ–≤–∏–π —à–∞–±–ª–æ–Ω)

================================================================================
6. REMOTE EVENTS ARCHITECTURE
================================================================================

6.1 –ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω ‚úÖ IMPLEMENTED
–í—Å—ñ RemoteEvents —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ RemoteEventsRegistry.luau (v1.0)

6.2 RemoteEventsRegistry (IMPLEMENTED - v1.0)
–Ñ–¥–∏–Ω–∏–π –º–æ–¥—É–ª—å –¥–ª—è –≤—Å—ñ—Ö RemoteEvents:

Location: ReplicatedStorage/RemoteEventsRegistry.luau

Architecture:
- Initialize() —Å—Ç–≤–æ—Ä—é—î –≤—Å—ñ RemoteEvents –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ
- Get(eventName) –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É
- WaitFor(eventName, timeout) –¥–ª—è –∫–ª—ñ—î–Ω—Ç—Å—å–∫–æ–≥–æ –¥–æ—Å—Ç—É–ø—É
- Validate() –ø–µ—Ä–µ–≤—ñ—Ä—è—î —ñ—Å–Ω—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö events

Registered Events:
- TeleportationEvent - –∑–∞–ø–∏—Ç –Ω–∞ —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü—ñ—é
- TeleportationStateEvent - –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞–Ω—É —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü—ñ—ó
- PlanetSurfaceScanner_Results - —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è
- PlayerDataReady - –≥–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö –≥—Ä–∞–≤—Ü—è

–ü—Ä–∞–≤–∏–ª–∞:
‚úÖ –í—Å—ñ RemoteEvents —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –í–ò–ö–õ–Æ–ß–ù–û —á–µ—Ä–µ–∑ Initialize()
‚úÖ –ö–ª—ñ—î–Ω—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å WaitFor() –∞–±–æ WaitForChild()
‚úÖ –°–µ—Ä–≤–µ—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Get() –ø—ñ—Å–ª—è Initialize()
‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ —á–µ—Ä–µ–∑ Validate()
‚ùå –ù–Ü–ö–û–õ–ò –Ω–µ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ RemoteEvents –ø–æ–∑–∞ —Ü–∏–º –º–æ–¥—É–ª–µ–º

Integration:
- –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î—Ç—å—Å—è –≤ GameInit.server.luau
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è TeleportationManager, TeleportationClient
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è PlanetSurfaceScanner, ScannerUI
- –ú–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è —ñ–Ω—à–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ –¥–ª—è –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—ó

================================================================================
7. DATA MODELS
================================================================================

--------------------------------------------------
7.1 GameConfig (v3.5)
--------------------------------------------------

Structure:
- GameName: string
- GameVersion: string
- DEFAULT_PLANET: string
- DEFAULT_PLANET_NAME: string
- DEBUG_MODE: boolean ‚úÖ IMPLEMENTED
- DATA_SCHEMA_VERSION: number = 2 ‚úÖ IMPLEMENTED
- ENABLE_REMOTEEVENTS_VALIDATION: boolean ‚úÖ IMPLEMENTED
- Planets: table (–∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –ø–ª–∞–Ω–µ—Ç)
- SpaceStation: table (–∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –∫–æ—Å–º—ñ—á–Ω–æ—ó —Å—Ç–∞–Ω—Ü—ñ—ó)
- PlanetSurfaceScanner: table (–Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–∫–∞–Ω–µ—Ä–∞)
- Teleportation: table (Delay, AnimationDuration, Cooldown)
- Spawn: table (RespawnTime, SafeDistance)
- PULSE_EFFECT_COLOR: Color3
- PULSE_EFFECT_SPEED: number
- PlanetHelpers: table (–¥–æ–ø–æ–º—ñ–∂–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó)

PlanetHelpers Functions:
- GetAvailablePlanets(): {string}
- GetPlanetLocations(planetId): table
- GetLocation(planetId, locationId): table
- GetDiscoveredLocations(planetId): {string}
- GetDefaultPlanet(): string
- IsDefaultPlanet(planetId): boolean
- GetPlayerStartLocation(): table

--------------------------------------------------
7.2 LoadOrder Configuration
--------------------------------------------------

Purpose:
–í–∏–∑–Ω–∞—á–∞—î –ø–æ—Ä—è–¥–æ–∫ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤ –Ω–∞ –ª–æ–∫–∞—Ü—ñ—ó –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è
–≥–µ–æ–º–µ—Ç—Ä–∏—á–Ω–∏—Ö –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤ —Ç–∞ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ—ó —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó.

Location:
- ServerStorage/Space/SpaceStation/Configuration/LoadOrder.luau
- ServerStorage/Planets/Planet_N/Locations/Location_N/Configuration/LoadOrder.luau

Structure:
```lua
LoadOrder.ORDER = {
    {name = "SpaceStation", priority = 1},  -- –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –ø–µ—Ä—à–∏–º
    {name = "Planet", priority = 2},
    {name = "PlanetSurfaceScanner", priority = 3},
    {name = "SpawnLocation", priority = 999},  -- –ó–∞–≤–∂–¥–∏ –æ—Å—Ç–∞–Ω–Ω—ñ–º
}
```

API:
- GetPriority(objectName: string): number - –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç –æ–±'—î–∫—Ç–∞
- SortObjects(objects: {Instance}): {Instance} - –≤—ñ–¥—Å–æ—Ä—Ç—É–≤–∞—Ç–∏ –æ–±'—î–∫—Ç–∏ –∑–∞ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–æ–º

Rules:
- –û–±'—î–∫—Ç–∏ –Ω–µ –≤–∫–∞–∑–∞–Ω—ñ –≤ ORDER –æ—Ç—Ä–∏–º—É—é—Ç—å –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç 500 (—Å–µ—Ä–µ–¥–Ω—ñ–π)
- SpawnLocation –º–∞—î –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç 999 (–∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –æ—Å—Ç–∞–Ω–Ω—ñ–º –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º)
- –ú–µ–Ω—à–∏–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç = —Ä–∞–Ω—ñ—à–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è
- –°—Ü–µ–Ω–∞—Ä–∏—Å—Ç –º–æ–∂–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –ø–æ—Ä—è–¥–æ–∫ —Ä–µ–¥–∞–≥—É—é—á–∏ Configuration/LoadOrder.luau

Usage:
LocationManager –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î LoadOrder –¥–ª—è –∫–æ–∂–Ω–æ—ó –ª–æ–∫–∞—Ü—ñ—ó —Ç–∞ –ø–µ—Ä–µ–¥–∞—î
–≤ EnvironmentLoader.LoadSpaceEnvironment() –∞–±–æ LoadPlanetEnvironment().

--------------------------------------------------
7.3 Player Data Model (v2 - IMPLEMENTED)
--------------------------------------------------

Current Structure (v2):
PlayerData = {
    SchemaVersion = 2, ‚úÖ IMPLEMENTED
    PlayerId = player.UserId,
    PlayerName = player.Name,
    CurrentPlanet = "Planet_1",
    CurrentLocation = "SpaceStation",
    UnlockedPlanets = {"Planet_1"},
    VisitedLocations = {},
    DiscoveredLocations = {},
    Stats = { ‚úÖ CONSOLIDATED
        JoinDate = os.time(),
        LastLogin = os.time(),
        TotalPlayTime = 0,
        LocationsDiscovered = 0,
        TotalTeleports = 0,
    },
    Settings = { ‚úÖ NEW
        MusicVolume = 1.0,
        SFXVolume = 1.0,
    },
}

Migration v1 ‚Üí v2: ‚úÖ IMPLEMENTED
- –î–æ–¥–∞—î—Ç—å—Å—è SchemaVersion = 2
- Stats –∫–æ–Ω—Å–æ–ª—ñ–¥—É—é—Ç—å—Å—è –≤ –æ–¥–Ω—É —Ç–∞–±–ª–∏—Ü—é
- –î–æ–¥–∞—î—Ç—å—Å—è Settings table –∑ volume settings
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –º—ñ–≥—Ä–∞—Ü—ñ—è –ø—Ä–∏ LoadPlayerData()
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î GameConfig.DATA_SCHEMA_VERSION –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó

--------------------------------------------------
7.3 Location Model
--------------------------------------------------

Attributes:
- LocationId: string
- DisplayName: string
- isDiscovered: boolean
- SpawnPoint: CFrame
- TeleportPoint: CFrame
- Folder: string (–Ω–∞–∑–≤–∞ –ø–∞–ø–∫–∏ –º–æ–¥–µ–ª—ñ)

================================================================================
8. STATE MANAGEMENT
================================================================================

8.1 Global State Rules
- –¢—ñ–ª—å–∫–∏ –æ–¥–Ω–∞ –∞–∫—Ç–∏–≤–Ω–∞ –ª–æ–∫–∞—Ü—ñ—è –≤ Workspace
- –¢—ñ–ª—å–∫–∏ –æ–¥–∏–Ω SpawnLocation –≤ –±—É–¥—å-—è–∫–∏–π –º–æ–º–µ–Ω—Ç
- TeleportationManager - —î–¥–∏–Ω–∏–π —Ö—Ç–æ –æ–Ω–æ–≤–ª—é—î CurrentLocation

8.2 Location FSM (IMPLEMENTED - LocationManager v3.0) ‚úÖ
States:
- IDLE: –û—á—ñ–∫—É–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—É
- VALIDATING: –í–∞–ª—ñ–¥–∞—Ü—ñ—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ (planetId, locationId)
- CLEANING: –û—á–∏—â–µ–Ω–Ω—è Workspace —Ç–∞ Lighting
- LOADING_PLANET: –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø–ª–∞–Ω–µ—Ç–∏ (Workspace/Planet, Lighting/Sky)
- LOADING_LOCATION: –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ª–æ–∫–∞—Ü—ñ—ó (Workspace, Scripts)
- VERIFYING: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ SpawnLocation —Ç–∞ –æ–±–æ–≤'—è–∑–∫–æ–≤–∏—Ö –æ–±'—î–∫—Ç—ñ–≤
- READY: –ì–æ—Ç–æ–≤–æ –¥–æ —Ä–æ–±–æ—Ç–∏
- ERROR: –ü–æ–º–∏–ª–∫–∞ –∑ fallback

Pipeline:
IDLE ‚Üí VALIDATING ‚Üí CLEANING ‚Üí LOADING_PLANET ‚Üí LOADING_LOCATION ‚Üí VERIFYING ‚Üí READY
  ‚Üë                                      ‚Üì                                        ‚Üì
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄERROR (fallback) ‚Üê‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

Timeouts:
- VALIDATING: 10s
- CLEANING: 10s
- LOADING_PLANET: 30s
- LOADING_LOCATION: 30s
- VERIFYING: 10s

Features:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π fallback –ø—Ä–∏ timeout
- –î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –ø–µ—Ä–µ—Ö–æ–¥—ñ–≤
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è SpawnLocation –ø—Ä–∏ VERIFYING
- GetState() –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É

8.3 Teleportation FSM (IMPLEMENTED - TeleportationManager v4.5) ‚úÖ
States:
- INACTIVE -> ACTIVE -> TELEPORTING -> COOLDOWN -> ACTIVE
                     |
                     v
                  INACTIVE (–ø—Ä–∏ –≤–∏—Ö–æ–¥—ñ –∑ –≥—Ä–∏)

–ü–æ—Ç–æ—á–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è:
- TeleportationManager v4.5 –º–∞—î –ª–æ–≥—ñ–∫—É —Å—Ç–∞–Ω—ñ–≤
- FSM –Ω–µ —Ñ–æ—Ä–º–∞–ª—ñ–∑–æ–≤–∞–Ω–∞, –∞–ª–µ –ø—Ä–∞—Ü—é—î —á–µ—Ä–µ–∑ –ø—Ä–∞–ø–æ—Ä—Ü—ñ —Ç–∞ cooldowns
- –†–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –¥–æ–¥–∞—Ç–∏ —è–≤–Ω—É FSM –≤ –º–∞–π–±—É—Ç–Ω—å–æ–º—É

================================================================================
9. CLIENT-SERVER COMMUNICATION
================================================================================

9.1 Mechanism
- RemoteEvents (–æ–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω—è –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è)
- RemoteFunctions (–¥–≤–æ—Å—Ç–æ—Ä–æ–Ω–Ω—è –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è)

9.2 Use Cases
- Open Teleport UI
- Receive selected destination
- Cancel teleport
- Scanner results
- Player data ready notification

9.3 [PLANNED] Communication Flow
- –ö–ª—ñ—î–Ω—Ç–∏ WaitForChild() –¥–ª—è RemoteEvents
- –°–µ—Ä–≤–µ—Ä —Å—Ç–≤–æ—Ä—é—î –≤—Å—ñ RemoteEvents —á–µ—Ä–µ–∑ Registry
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ –ø–µ—Ä–µ–¥ –æ–±—Ä–æ–±–∫–æ—é

================================================================================
10. PERSISTENCE
================================================================================

10.1 DataStoreManager
- –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Roblox DataStore
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø—Ä–∏ –ø—Ä–∏—î–¥–Ω–∞–Ω–Ω—ñ –≥—Ä–∞–≤—Ü—è
- –Ü–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
- –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ —Ç–∞ retry logic
- [PLANNED] Session-only fallback –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ

10.2 Data Structure
- –Ü–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω—ñ data stores –¥–ª—è –≥—Ä–∞–≤—Ü—ñ–≤
- JSON —Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
- [PLANNED] –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –º—ñ–≥—Ä–∞—Ü—ñ—ó —Å—Ö–µ–º–∏

10.3 Save Triggers
- –ü—Ä–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ –¥–∞–Ω–∏—Ö –≥—Ä–∞–≤—Ü—è
- –ü—Ä–∏ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—ñ –ª–æ–∫–∞—Ü—ñ—ó
- –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ñ —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü—ñ—ó
- –ü—Ä–∏ –≤–∏—Ö–æ–¥—ñ –≥—Ä–∞–≤—Ü—è (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ)

================================================================================
11. LOGGING AND DEBUGGING
================================================================================

11.1 Logging Standard (–¥–∏–≤. LoggingConventions.luau)

–§–æ—Ä–º–∞—Ç: [SYSTEM] EMOJI Message (context)

–ü—Ä–µ—Ñ—ñ–∫—Å–∏ –µ–º–æ–¥–∑—ñ:
- ‚úÖ –£—Å–ø—ñ—Ö / –ì–æ—Ç–æ–≤–æ
- ‚ùå –ü–æ–º–∏–ª–∫–∞ / –ó–±—ñ–π
- üöÄ –°—Ç–∞—Ä—Ç –ø—Ä–æ—Ü–µ—Å—É
- üîç –ü–æ—à—É–∫ / –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞
- üë§ –ì—Ä–∞–≤–µ—Ü—å
- üìä –î–∞–Ω—ñ / –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- ‚è≥ –û—á—ñ–∫—É–≤–∞–Ω–Ω—è
- ‚ö†Ô∏è –ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è
- üíæ –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è
- üîÑ –û–Ω–æ–≤–ª–µ–Ω–Ω—è

11.2 Debug Mode
- GameConfig.DEBUG_MODE = false –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É
- –•–µ–ª–ø–µ—Ä–∏ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å –ø—Ä–∞–ø–æ—Ä–µ—Ü—å —ñ –∞–≤—Ç–æ–≤–∏–º–∏–∫–∞—é—Ç—å—Å—è
- –¢–µ—Å—Ç–æ–≤—ñ —Å–∫—Ä–∏–ø—Ç–∏ –Ω–µ —Å—Ç–≤–æ—Ä—é—é—Ç—å RemoteEvents –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—ñ

================================================================================
12. PERFORMANCE CONSIDERATIONS
================================================================================

- –£–Ω–∏–∫–∞—Ç–∏ —á–∞—Å—Ç–∏—Ö —Å–∫–∞–Ω—É–≤–∞–Ω—å Workspace –∞–±–æ ServerStorage
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ debounces —Ç–∞ FSM
- –û–±–º–µ–∂–∏—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Heartbeat
- –û—á–∏—â–∞—Ç–∏ connections –ø—Ä–∏ –∑–º—ñ–Ω—ñ –ª–æ–∫–∞—Ü—ñ—ó
- –ö–µ—à—É–≤–∞—Ç–∏ —á–∞—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è

================================================================================
13. ERROR HANDLING
================================================================================

13.1 Principles
- Fail fast –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –ø–æ–º–∏–ª–∫–∞—Ö
- –õ–æ–≥—É–≤–∞—Ç–∏ –≤—ñ–¥–Ω–æ–≤–ª—é–≤–∞–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏
- –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ –Ω–µ–≤–∞–ª—ñ–¥–Ω–∏—Ö –ø–µ—Ä–µ—Ö–æ–¥—ñ–≤ —Å—Ç–∞–Ω—É
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ pcall() –¥–ª—è –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö –≤–∏–∫–ª–∏–∫—ñ–≤
- –í–∞–ª—ñ–¥—É–≤–∞—Ç–∏ –≤—Ö–æ–¥–∏ –ø–µ—Ä–µ–¥ –æ–±—Ä–æ–±–∫–æ—é
- –ù–∞–¥–∞–≤–∞—Ç–∏ –∑–º—ñ—Å—Ç–æ–≤–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏

13.2 Graceful Degradation
- –Ø–∫—â–æ LocationManager –Ω–µ –º–æ–∂–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –ª–æ–∫–∞—Ü—ñ—é - –∑–∞–ª–∏—à–∏—Ç–∏ –Ω–∞ –ø–æ—Ç–æ—á–Ω—ñ–π
- –Ø–∫—â–æ DataStore –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π - –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ session-only –¥–∞–Ω–∏–º–∏
- –Ø–∫—â–æ TeleportationManager –Ω–µ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞–≤—Å—è - –≤–∏–º–∫–Ω—É—Ç–∏ —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü—ñ—é
- Fallback –∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è –≤—Å—ñ—Ö –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π
- –ì—Ä–∞–≤–µ—Ü—å –ó–ê–í–ñ–î–ò —Å–ø–∞–≤–Ω–∏—Ç—å—Å—è (fallback –Ω–∞ –∫–æ—Å–º—ñ—á–Ω—É —Å—Ç–∞–Ω—Ü—ñ—é)

================================================================================
14. CONFIG VALIDATION
================================================================================

‚úÖ IMPLEMENTED (ConfigValidator v1.0)

–ü–µ—Ä–µ–≤—ñ—Ä–∫–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ:
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ GameConfig (Required Fields) ‚úÖ
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—Å—ñ—Ö –ø–ª–∞–Ω–µ—Ç —Ç–∞ –ª–æ–∫–∞—Ü—ñ–π ‚úÖ
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ SpaceStation –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó ‚úÖ
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –º–æ–¥–µ–ª–µ–π —É ServerStorage ‚úÖ
- Fail-fast –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –ø–æ–º–∏–ª–∫–∞—Ö ‚úÖ

Validation Flow:
1. GameInit –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î GameConfig
2. ConfigValidator.ValidateConfig(GameConfig, ServerStorage)
3. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Required Fields (GameName, DATA_SCHEMA_VERSION, etc.)
4. –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—Å—ñ—Ö –ø–ª–∞–Ω–µ—Ç (metadata, IsAvailable, Locations)
5. –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—Å—ñ—Ö –ª–æ–∫–∞—Ü—ñ–π (SpawnPoint, DisplayName, Folder)
6. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ SpaceStation (SpawnPoint, optional PlanetSurfaceScanner)
7. –í–∞–ª—ñ–¥–∞—Ü—ñ—è ServerStorage structure (folders, models, types)
8. –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–≤—ñ—Ç—É (Errors, Warnings, Info)
9. –ü—Ä–∏ Errors - error() —Ç–∞ –∑—É–ø–∏–Ω–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
10. –ü—Ä–∏ Warnings - –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è –∑ –ª–æ–≥—É–≤–∞–Ω–Ω—è–º

Error Types:
- ‚ùå Errors: –ö—Ä–∏—Ç–∏—á–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏ - —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è
- ‚ö†Ô∏è Warnings: –ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏ - —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è
- ‚ÑπÔ∏è Info: –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

Checked Fields:
- GameName, GameVersion exists and non-empty
- DATA_SCHEMA_VERSION is number >= 1
- DEFAULT_PLANET exists and in Planets table
- Planets table not empty
- At least one planet IsAvailable
- All locations have SpawnPoint
- SpawnLocation objects exist and correct type
- Folder structure matches configuration

Benefits:
- –†–∞–Ω–Ω—î –≤–∏—è–≤–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
- –ó–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è runtime –ø–æ–º–∏–ª–∫–∞–º
- –î–µ—Ç–∞–ª—å–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø—Ä–æ–±–ª–µ–º–∏
- –ó—É–ø–∏–Ω–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –ø–æ–º–∏–ª–∫–∞—Ö

Documentation:
- docs/CONFIG_VALIDATION_IMPLEMENTATION.md
- docs/CONFIG_VALIDATION_ARCHITECTURE.md
- docs/CONFIG_VALIDATION_QUICK_REFERENCE.md

================================================================================
15. ASSUMPTIONS AND CONSTRAINTS
================================================================================

- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –º—É–ª—å—Ç–∏–ø–ª–µ—î—Ä–∞ (–∫—ñ–ª—å–∫–∞ –≥—Ä–∞–≤—Ü—ñ–≤ –æ–¥–Ω–æ—á–∞—Å–Ω–æ)
- Server-authoritative –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Å—Ç–∞–Ω–æ–º
- –û–¥–Ω–∞ –∞–∫—Ç–∏–≤–Ω–∞ –ª–æ–∫–∞—Ü—ñ—è –Ω–∞ –≥—Ä–∞–≤—Ü—è
- –î–∞–Ω—ñ –ª–æ–∫–∞—Ü—ñ–π –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –∑ ServerStorage
- –ö–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è –∫–ª—ñ—î–Ω—Ç-—Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ RemoteEvents
- –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü—ñ—è –¥–∞–Ω–∏—Ö –º—ñ–∂ —Å–µ—Å—ñ—è–º–∏

================================================================================
16. CODE CONVENTION
================================================================================

16.1 Script Header Format
--[[
================================================================================
KOSMICMAZER ‚Äî [System Name]
================================================================================

Purpose: [Brief description]
Version: [Version number]

Features:
- [Feature 1]
- [Feature 2]

API:
- [Function 1]: [Description]
- [Function 2]: [Description]

Calls to:
- [Module/Service]: [Function called]

Called from:
- [Module/Script]: [Function called]

Events:
- [Event name]: [Description]

Dependencies:
- [Required modules/services]

ChangeLog:
- [Record 1]
- [Record 2]

================================================================================


16.2 Naming Conventions
- Scripts: PascalCase (GameInit.luau)
- Variables: camelCase (playerData)
- Functions: camelCase (loadPlayerData)
- Classes: PascalCase (PlayerManager)
- Public members: PascalCase (PlayerManager)
- Public functions: PascalCase (LoadPlayerData)
- Constants: UPPER_SNAKE_CASE (TELEPORT_COOLDOWN)
- RemoteEvents: Descriptive names (TeleportationEvent)

16.3 File Extensions
- Server scripts: .server.luau
- Client scripts: .client.luau
- ModuleScripts: .luau
- Documentation: .luau –∞–±–æ .luaua

================================================================================
17. MIGRATION PLAN
================================================================================

–î–∏–≤. –¥–µ—Ç–∞–ª—å–Ω–∏–π –ø–ª–∞–Ω —É ArchitectureImproves.luaua

–§–∞–∑–∏:
1. –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ (1-2 –¥–Ω—ñ)
2. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–µ–Ω–µ–¥–∂–µ—Ä—ñ–≤ (2-3 –¥–Ω—ñ)
3. –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó (1 –¥–µ–Ω—å)
4. –ú—ñ–≥—Ä–∞—Ü—ñ—è —Å–∫—Ä–∏–ø—Ç—ñ–≤ (3-4 –¥–Ω—ñ)
5. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è (2-3 –¥–Ω—ñ)
6. Cleanup (1 –¥–µ–Ω—å)

–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∏:
- –í–ò–°–û–ö–ò–ô: RemoteEvents Registry, Player Data Flow, Graceful Degradation
- –°–ï–†–ï–î–ù–Ü–ô: Config Validation, FSM implementations
- –ù–ò–ó–¨–ö–ò–ô: Schema Migrations, New Managers

================================================================================
18. APPENDIX
================================================================================

–ü–æ–≤'—è–∑–∞–Ω—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏:
- ArchitectureImproves.luaua - –î–µ—Ç–∞–ª—å–Ω–∏–π –ø–ª–∞–Ω –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∏—Ö –ø–æ–∫—Ä–∞—â–µ–Ω—å
- LoggingConventions.luau - –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏ –ª–æ–≥—É–≤–∞–Ω–Ω—è
- GameDesignDocument.luau - –Ü–≥—Ä–æ–≤–∏–π –¥–∏–∑–∞–π–Ω
- Roadmap.luaua - –î–æ—Ä–æ–∂–Ω—è –∫–∞—Ä—Ç–∞ —Ä–æ–∑—Ä–æ–±–∫–∏

================================================================================
END OF TECHNICAL DESIGN DOCUMENT
================================================================================
]]

local module = {}

module.VERSION = "4.0"
module.STATUS = "Active Implementation"
module.LAST_UPDATED = "2026-01-08"

-- Implemented Systems Summary:
-- ‚úÖ GameInit v3.7: Config validation integration
-- ‚úÖ ConfigValidator v1.0: Complete config validation system
-- ‚úÖ DataStoreManager v2.0: Schema versioning and migrations
-- ‚úÖ LocationManager v3.0: FSM-based location switching
-- ‚úÖ BaseLocationManager v1.0: OOP base class for locations
-- ‚úÖ SpaceStationManager v1.0: Space station implementation
-- ‚úÖ LocationController template v1.0: Planet location template
-- ‚úÖ RemoteEventsRegistry v1.0: Centralized RemoteEvents management
-- ‚úÖ TeleportationManager v4.5: Full teleportation system
-- ‚úÖ EnvironmentLoader v1.8: LoadOrder-based loading
-- ‚úÖ LoadOrderProcessor v1.0: LoadOrder processing utility
-- ‚úÖ ObjectTypeValidator v1.2: Structure validation

return module
